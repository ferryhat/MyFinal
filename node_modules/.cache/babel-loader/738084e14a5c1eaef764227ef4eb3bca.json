{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{NavLink}from'react-router-dom';import{UserContext}from'../App';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyRentCode=function MyRentCode(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState([]),_useState2=_slicedToArray(_useState,1),setIncomeUser=_useState2[0];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var mycode;var getRentCode=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/getMyIncomes',{method:'GET'});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setIncomeUser(data.userById);setItems(data.soldItems);if(!(!res.status===200)){_context.next=12;break;}error=new Error(res.error);throw error;case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function getRentCode(){return _ref.apply(this,arguments);};}();useEffect(function(){getRentCode();},[]);useEffect(function(){// Extract the rentCode value from the items array\nvar foundItem=items.find(function(item){return item.rentCode;});mycode=foundItem?foundItem.rentCode:'';},[items]);items.map(function(items){mycode=items.rentCode;});var Loginbutton=function Loginbutton(){if(state){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(NavLink,{className:\"btn\",to:\"/signout\",children:\"logout\"})})});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(NavLink,{className:\"btn\",to:\"/signin\",children:\"login\"})})});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"menu-btn\",className:\"fas fa-bars\"}),/*#__PURE__*/_jsxs(NavLink,{className:\"logo\",to:\"/\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Krily\"}),\"Car\"]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/rentcar\",children:\"Rent A Car\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"login-btn\",children:/*#__PURE__*/_jsx(Loginbutton,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"rentcode\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\"Rent Code : \",mycode]})})]});};export default MyRentCode;","map":{"version":3,"names":["React","useState","useEffect","useContext","NavLink","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyRentCode","_useContext","state","dispatch","_useState","_useState2","_slicedToArray","setIncomeUser","_useState3","_useState4","items","setItems","mycode","getRentCode","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","error","wrap","_callee$","_context","prev","next","fetch","method","sent","json","userById","soldItems","status","Error","t0","console","log","stop","apply","arguments","foundItem","find","item","rentCode","map","Loginbutton","children","className","to","id"],"sources":["C:/Users/FERIEL/Desktop/client/src/components/RentCode.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nimport { UserContext } from '../App';\r\n\r\nconst MyRentCode = () => {\r\n\r\n    const { state, dispatch } = useContext(UserContext);\r\n    const [setIncomeUser] = useState([]);\r\n    const [items, setItems] = useState([]);\r\n    let mycode;\r\n    const getRentCode = async () => {\r\n        try {\r\n            const res = await fetch('/getMyIncomes', {\r\n                method: 'GET',\r\n            });\r\n            const data = await res.json();\r\n            setIncomeUser(data.userById);\r\n            setItems(data.soldItems);\r\n            if (!res.status === 200) {\r\n                const error = new Error(res.error);\r\n                throw error;\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        getRentCode();\r\n    }, []);\r\n    useEffect(() => {\r\n        // Extract the rentCode value from the items array\r\n        const foundItem = items.find(item => item.rentCode);\r\n        mycode = foundItem ? foundItem.rentCode : '';\r\n    }, [items]);\r\n    items.map(items => {\r\n        mycode = items.rentCode\r\n    });\r\n\r\n\r\n    const Loginbutton = () => {\r\n        if (state) {\r\n            return (\r\n                <div>\r\n                    <button>\r\n                        <NavLink className=\"btn\" to=\"/signout\">\r\n                            logout\r\n                        </NavLink>\r\n                    </button>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <button>\r\n                        <NavLink className=\"btn\" to=\"/signin\">\r\n                            login\r\n                        </NavLink>\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <div id=\"menu-btn\" className=\"fas fa-bars\"></div>\r\n                <NavLink className=\"logo\" to=\"/\">\r\n                    <span>Krily</span>Car\r\n                </NavLink>\r\n\r\n                <nav className=\"navbar\">\r\n                    <NavLink to=\"/\">Home</NavLink>\r\n                    <NavLink to=\"/rentcar\">Rent A Car</NavLink>\r\n                </nav>\r\n\r\n                <div id=\"login-btn\">\r\n                    <Loginbutton />\r\n                </div>\r\n            </header>\r\n            <div className='rentcode'>\r\n                <h1>Rent Code : {mycode}</h1>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default MyRentCode; "],"mappings":"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"},"metadata":{},"sourceType":"module"}