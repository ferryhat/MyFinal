{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{NavLink}from\"react-router-dom\";import{AdminContext}from\"../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RentedCarsComponent=function RentedCarsComponent(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productIds=_useState2[0],setProductIds=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selectedProductId=_useState4[0],setSelectedProductId=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),rentalCounts=_useState6[0],setRentalCounts=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),carData=_useState8[0],setCarData=_useState8[1];useEffect(function(){var fetchProductIds=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/all-product-ids');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setProductIds(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchProductIds(){return _ref.apply(this,arguments);};}();fetchProductIds();},[]);useEffect(function(){var fetchRentalCounts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"/count-rental-by-car/\".concat(selectedProductId));case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:data=_context2.sent;console.log('Rental Counts Response:',data);// Add this line for debugging\nif(data.rentalCounts&&data.rentalCounts.length>0&&data.carData){setRentalCounts(data.rentalCounts);setCarData(data.carData);}else{setRentalCounts([]);setCarData(null);}_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));return function fetchRentalCounts(){return _ref2.apply(this,arguments);};}();if(selectedProductId){fetchRentalCounts();}else{setRentalCounts([]);setCarData(null);}},[selectedProductId]);var handleProductIdChange=function handleProductIdChange(event){setSelectedProductId(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Rental Counts by Car\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"productId\",children:\"Product ID: \"}),/*#__PURE__*/_jsxs(\"select\",{id:\"productId\",value:selectedProductId,onChange:handleProductIdChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a product ID\"}),productIds.map(function(productId){return/*#__PURE__*/_jsx(\"option\",{value:productId,children:productId},productId);})]})]}),rentalCounts.length>0&&carData?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Car Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Brand: \",carData.brand]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Model: \",carData.model]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Year: \",carData.year]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Color: \",carData.color]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Seats: \",carData.seats]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",carData.price]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rental Count: \",rentalCounts[0].rentalCount]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No rental counts available.\"})]});};export default RentedCarsComponent;","map":{"version":3,"names":["React","useState","useEffect","useContext","NavLink","AdminContext","jsx","_jsx","jsxs","_jsxs","RentedCarsComponent","_useState","_useState2","_slicedToArray","productIds","setProductIds","_useState3","_useState4","selectedProductId","setSelectedProductId","_useState5","_useState6","rentalCounts","setRentalCounts","_useState7","_useState8","carData","setCarData","fetchProductIds","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","stop","apply","arguments","fetchRentalCounts","_ref2","_callee2","_callee2$","_context2","concat","log","length","handleProductIdChange","event","target","value","children","htmlFor","id","onChange","map","productId","brand","model","year","color","seats","price","rentalCount"],"sources":["C:/Users/FERIEL/Desktop/client/src/components/dashboardComponents/mostcars.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { AdminContext } from \"../../App\"\r\n\r\n\r\nconst RentedCarsComponent = () => {\r\n    const [productIds, setProductIds] = useState([]);\r\n    const [selectedProductId, setSelectedProductId] = useState('');\r\n    const [rentalCounts, setRentalCounts] = useState([]);\r\n    const [carData, setCarData] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchProductIds = async () => {\r\n            try {\r\n                const response = await fetch('/all-product-ids');\r\n                const data = await response.json();\r\n                setProductIds(data);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n        fetchProductIds();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchRentalCounts = async () => {\r\n            try {\r\n                const response = await fetch(`/count-rental-by-car/${selectedProductId}`);\r\n                const data = await response.json();\r\n                console.log('Rental Counts Response:', data); // Add this line for debugging\r\n\r\n                if (data.rentalCounts && data.rentalCounts.length > 0 && data.carData) {\r\n                    setRentalCounts(data.rentalCounts);\r\n                    setCarData(data.carData);\r\n                } else {\r\n                    setRentalCounts([]);\r\n                    setCarData(null);\r\n                }\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        };\r\n\r\n\r\n\r\n        if (selectedProductId) {\r\n            fetchRentalCounts();\r\n        } else {\r\n            setRentalCounts([]);\r\n            setCarData(null);\r\n        }\r\n    }, [selectedProductId]);\r\n\r\n    const handleProductIdChange = (event) => {\r\n        setSelectedProductId(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>Rental Counts by Car</h1>\r\n            <div>\r\n                <label htmlFor=\"productId\">Product ID: </label>\r\n                <select id=\"productId\" value={selectedProductId} onChange={handleProductIdChange}>\r\n                    <option value=\"\">Select a product ID</option>\r\n                    {productIds.map((productId) => (\r\n                        <option key={productId} value={productId}>\r\n                            {productId}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            {rentalCounts.length > 0 && carData ? (\r\n                <div>\r\n                    <h2>Car Details</h2>\r\n                    <p>Brand: {carData.brand}</p>\r\n                    <p>Model: {carData.model}</p>\r\n                    <p>Year: {carData.year}</p>\r\n                    <p>Color: {carData.color}</p>\r\n                    <p>Seats: {carData.seats}</p>\r\n                    <p>Price: {carData.price}</p>\r\n                    <p>Rental Count: {rentalCounts[0].rentalCount}</p>\r\n                </div>\r\n            ) : (\r\n                <p>No rental counts available.</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RentedCarsComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}