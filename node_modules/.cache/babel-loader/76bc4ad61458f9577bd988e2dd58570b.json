{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{NavLink}from'react-router-dom';import{AdminContext}from'../../App';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Totalusers=function Totalusers(){var _useContext=useContext(AdminContext),adminState=_useContext.adminState,dispatchadmin=_useContext.dispatchadmin;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),getUsers=_useState2[0],setGetUsers=_useState2[1];var getallusers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/getavailableusers',{method:'GET'});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;setGetUsers(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function getallusers(){return _ref.apply(this,arguments);};}();useEffect(function(){getallusers();},[]);var deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var userIdFromDashBoard;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:userIdFromDashBoard=e.target.id;_context2.prev=1;_context2.next=4;return fetch('/deleteUserfromdashboard',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userIdFromDashBoard:userIdFromDashBoard})});case 4:// Refresh the user list after deleting\ngetallusers();_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[1,7]]);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Total Users : \",getUsers.length]})})});};export default Totalusers;","map":{"version":3,"names":["React","useState","useEffect","useContext","NavLink","AdminContext","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Totalusers","_useContext","adminState","dispatchadmin","_useState","_useState2","_slicedToArray","getUsers","setGetUsers","getallusers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","wrap","_callee$","_context","prev","next","fetch","method","sent","json","t0","console","log","stop","apply","arguments","deleteUser","_ref2","_callee2","e","userIdFromDashBoard","_callee2$","_context2","target","id","headers","body","JSON","stringify","_x","children","className","length"],"sources":["C:/Users/FERIEL/Desktop/client/src/components/dashboardComponents/totalusers.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { AdminContext } from '../../App';\r\n\r\nconst Totalusers = () => {\r\n    const { adminState, dispatchadmin } = useContext(AdminContext);\r\n    const [getUsers, setGetUsers] = useState([]);\r\n\r\n    const getallusers = async () => {\r\n        try {\r\n            const res = await fetch('/getavailableusers', {\r\n                method: 'GET',\r\n            });\r\n\r\n            const data = await res.json();\r\n            setGetUsers(data);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getallusers();\r\n    }, []);\r\n\r\n    const deleteUser = async (e) => {\r\n        const userIdFromDashBoard = e.target.id;\r\n\r\n        try {\r\n            await fetch('/deleteUserfromdashboard', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    userIdFromDashBoard,\r\n                }),\r\n            });\r\n\r\n            // Refresh the user list after deleting\r\n            getallusers();\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n\r\n\r\n\r\n\r\n            <h1 className=\"heading\">\r\n                <span>Total Users : {getUsers.length}</span>\r\n            </h1>\r\n\r\n\r\n\r\n\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Totalusers;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}