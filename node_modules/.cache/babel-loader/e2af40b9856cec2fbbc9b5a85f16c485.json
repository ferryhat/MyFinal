{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from'react';import{NavLink,useHistory}from\"react-router-dom\";import Swal from'sweetalert2';import{UserContext}from\"../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Signin=function Signin(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;//User signin\nvar history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var signinUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch('/signin',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});case 3:res=_context.sent;data=res.json();if(res.status===400||!data){Swal.fire({icon:'error',title:'invalid Credentials, please check your email & password',showConfirmButton:true});}else{dispatch({type:\"USER\",payload:true});Swal.fire({icon:'success',title:'Signin Successfull',showConfirmButton:false,timer:1500});history.push(\"/rentcar\");}case 6:case\"end\":return _context.stop();}},_callee);}));return function signinUser(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"menu-btn\",className:\"fas fa-bars\"}),/*#__PURE__*/_jsxs(NavLink,{className:\"logo\",to:\"/\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Krily\"}),\"Car \"]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/exploreRentCars\",children:\" Cars Showcase\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/about\",children:\"About\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#services\",children:\"Testimonial\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"login-btn\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/signin\",children:\"login\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"maincontainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"firstcontainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"titled\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"usersignin\",style:{display:\"block\"},className:\"content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Signin As User\"}),/*#__PURE__*/_jsxs(\"form\",{method:\"POST\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"details\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},placeholder:\"Enter your password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"signin\",onClick:signinUser})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"extra-links\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\" don't have an account ? \",/*#__PURE__*/_jsx(NavLink,{style:{color:\"#03440C\"},to:\"/signup\",children:\"create one\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:/*#__PURE__*/_jsx(NavLink,{style:{color:\"#ffffff\"},to:\"/adminsignin\",children:\"Signin As Admin\"})})]})]})]})})]});};export default Signin;","map":{"version":3,"names":["React","useState","useContext","NavLink","useHistory","Swal","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signin","_useContext","state","dispatch","history","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","signinUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","data","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","headers","body","JSON","stringify","sent","json","status","fire","icon","title","showConfirmButton","type","payload","timer","push","stop","_x","apply","arguments","children","className","id","to","href","style","display","value","onChange","target","placeholder","onClick","color"],"sources":["C:/Users/FERIEL/Desktop/client/src/components/Signin.js"],"sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport Swal from 'sweetalert2';\r\nimport { UserContext } from \"../App\"\r\n\r\n\r\nconst Signin = () => {\r\n\r\n    const { state, dispatch } = useContext(UserContext)\r\n\r\n\r\n    //User signin\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n\r\n    const signinUser = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const res = await fetch('/signin', {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        });\r\n        const data = res.json();\r\n\r\n        if (res.status === 400 || !data) {\r\n            Swal.fire(\r\n                {\r\n\r\n                    icon: 'error',\r\n                    title: 'invalid Credentials, please check your email & password',\r\n                    showConfirmButton: true,\r\n\r\n                }\r\n            )\r\n        }\r\n        else {\r\n\r\n            dispatch({ type: \"USER\", payload: true })\r\n\r\n            Swal.fire(\r\n                {\r\n\r\n                    icon: 'success',\r\n                    title: 'Signin Successfull',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                }\r\n            )\r\n            history.push(\"/rentcar\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n\r\n            <header className=\"header\">\r\n\r\n                <div id=\"menu-btn\" className=\"fas fa-bars\"></div>\r\n\r\n                <NavLink className=\"logo\" to=\"/\"> <span>Krily</span>Car </NavLink>\r\n\r\n                <nav className=\"navbar\">\r\n                    <NavLink to=\"/\">Home</NavLink>\r\n                    <NavLink to=\"/exploreRentCars\"> Cars Showcase</NavLink>\r\n                    <NavLink to=\"/about\">About</NavLink>\r\n                    <a href=\"#services\">Testimonial</a></nav>\r\n\r\n                <div id=\"login-btn\">\r\n                    <button className=\"btn\"><NavLink className=\"nav-link\" to=\"/signin\">login</NavLink></button>\r\n                </div>\r\n\r\n            </header>\r\n\r\n            <div className=\"maincontainer\">\r\n                <div className=\"firstcontainer\">\r\n                    <div className=\"titled\"></div>\r\n                    <div id=\"usersignin\" style={{ display: \"block\" }} className=\"content\">\r\n                        <h2>Signin As User</h2>\r\n                        <form method=\"POST\">\r\n                            <div className=\"user-details\">\r\n\r\n                                <div className=\"input-box\">\r\n                                    <span className=\"details\">Email</span>\r\n                                    <input type=\"text\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Enter your email\" />\r\n                                </div>\r\n\r\n                                <div className=\"input-box\">\r\n                                    <span className=\"details\">Password</span>\r\n                                    <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Enter your password\" />\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                            <div className=\"button\">\r\n                                <input type=\"submit\" value=\"signin\" onClick={signinUser} />\r\n                            </div>\r\n                        </form>\r\n                        <div className=\"extra-links\">\r\n                            <h3> don't have an account ? <NavLink style={{ color: \"#03440C\" }} to=\"/signup\">create one</NavLink></h3>\r\n                            <button className=\"btn\"><NavLink style={{ color: \"#ffffff\" }} to=\"/adminsignin\">Signin As Admin</NavLink></button>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Signin\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}