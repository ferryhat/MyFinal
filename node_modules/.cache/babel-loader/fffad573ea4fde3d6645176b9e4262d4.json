{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from'react';import{NavLink,useHistory}from\"react-router-dom\";import{AdminContext}from\"../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllReviews=function AllReviews(){var _useContext=useContext(AdminContext),adminState=_useContext.adminState,dispatchadmin=_useContext.dispatchadmin;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reviews=_useState2[0],setReviews=_useState2[1];useEffect(function(){fetchReviews();},[]);var fetchReviews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/getallreviews');case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setReviews(data);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchReviews(){return _ref.apply(this,arguments);};}();var Loginbutton=function Loginbutton(){if(adminState){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"logoutbtnDash\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/adminsignout\",children:\"logout\"})})});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"logoutbtnDash\",children:/*#__PURE__*/_jsx(NavLink,{className:\"nav-link\",to:\"/signin\",children:\"login\"})})});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All Reviews\"}),reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[review.carById.brand,\" - \",review.carById.model]}),/*#__PURE__*/_jsx(\"ul\",{children:review.allReviews.map(function(reviewItem){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Name: \",reviewItem.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",reviewItem.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Comments: \",reviewItem.comments]})]},reviewItem._id);})})]},review._id);})]});};export default AllReviews;","map":{"version":3,"names":["React","useEffect","useState","useContext","NavLink","useHistory","AdminContext","jsx","_jsx","jsxs","_jsxs","AllReviews","_useContext","adminState","dispatchadmin","_useState","_useState2","_slicedToArray","reviews","setReviews","fetchReviews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","log","stop","apply","arguments","Loginbutton","children","className","to","map","review","carById","brand","model","allReviews","reviewItem","name","email","comments","_id"],"sources":["C:/Users/FERIEL/Desktop/client/src/components/dashboardComponents/allreviews.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { AdminContext } from \"../../App\"\r\n\r\nconst AllReviews = () => {\r\n    const { adminState, dispatchadmin } = useContext(AdminContext)\r\n    const [reviews, setReviews] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchReviews();\r\n    }, []);\r\n\r\n    const fetchReviews = async () => {\r\n        try {\r\n            const response = await fetch('/getallreviews');\r\n            const data = await response.json();\r\n            setReviews(data);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n    const Loginbutton = () => {\r\n\r\n        if (adminState) {\r\n            return <div>\r\n                <button className=\"logoutbtnDash\"><NavLink className=\"nav-link\" to=\"/adminsignout\">logout</NavLink></button>\r\n            </div>\r\n        }\r\n        else {\r\n            return <div>\r\n                <button className=\"logoutbtnDash\"><NavLink className=\"nav-link\" to=\"/signin\">login</NavLink></button>\r\n\r\n            </div>\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>All Reviews</h1>\r\n            {reviews.map((review) => (\r\n                <div key={review._id}>\r\n                    <h3>{review.carById.brand} - {review.carById.model}</h3>\r\n                    <ul>\r\n                        {review.allReviews.map((reviewItem) => (\r\n                            <li key={reviewItem._id}>\r\n                                <p>Name: {reviewItem.name}</p>\r\n                                <p>Email: {reviewItem.email}</p>\r\n                                <p>Comments: {reviewItem.comments}</p>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AllReviews;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}