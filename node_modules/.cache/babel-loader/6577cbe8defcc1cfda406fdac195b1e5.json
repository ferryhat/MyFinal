{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FERIEL\\\\Desktop\\\\CarRent\\\\client\\\\src\\\\components\\\\dashboardComponents\\\\LogStat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { AdminContext } from '../../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Logstats = () => {\n  _s();\n  const {\n    adminState,\n    dispatchadmin\n  } = useContext(AdminContext);\n  const [getUsers, setGetUsers] = useState([]);\n  const chartRef = useRef(null); // Reference to the chart container\n\n  const getallusers = async () => {\n    try {\n      const res = await fetch('/getavailableusers', {\n        method: 'GET'\n      });\n      const data = await res.json();\n      setGetUsers(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  useEffect(() => {\n    getallusers();\n  }, []);\n  useEffect(() => {\n    if (getUsers.length > 0) {\n      drawChart();\n    }\n  }, [getUsers]);\n  const drawChart = () => {\n    const chartData = getUsers.map(user => ({\n      name: user.name,\n      tokens: user.tokens.length\n    }));\n\n    // Create the chart\n    const chart = new window.chart(chartRef.current, {\n      type: 'bar',\n      data: {\n        labels: chartData.map(data => data.name),\n        datasets: [{\n          label: 'Logged in times',\n          data: chartData.map(data => data.tokens),\n          backgroundColor: 'rgba(75, 192, 192, 0.2)',\n          borderColor: 'rgba(75, 192, 192, 1)',\n          borderWidth: 1\n        }]\n      },\n      options: {\n        scales: {\n          y: {\n            beginAtZero: true\n          }\n        }\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"home-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"salecartableDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"heading\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Available Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: chartRef,\n          className: \"chart-container\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(Logstats, \"DDJi/Ahypcw0stiLW0fZ4f76DLc=\");\n_c = Logstats;\nexport default Logstats;\nvar _c;\n$RefreshReg$(_c, \"Logstats\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","NavLink","AdminContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Logstats","_s","adminState","dispatchadmin","getUsers","setGetUsers","chartRef","getallusers","res","fetch","method","data","json","error","console","log","length","drawChart","chartData","map","user","name","tokens","chart","window","current","type","labels","datasets","label","backgroundColor","borderColor","borderWidth","options","scales","y","beginAtZero","children","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","_c","$RefreshReg$"],"sources":["C:/Users/FERIEL/Desktop/CarRent/client/src/components/dashboardComponents/LogStat.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { AdminContext } from '../../App';\r\n\r\nconst Logstats = () => {\r\n    const { adminState, dispatchadmin } = useContext(AdminContext);\r\n    const [getUsers, setGetUsers] = useState([]);\r\n\r\n    const chartRef = useRef(null); // Reference to the chart container\r\n\r\n    const getallusers = async () => {\r\n        try {\r\n            const res = await fetch('/getavailableusers', {\r\n                method: 'GET',\r\n            });\r\n\r\n            const data = await res.json();\r\n            setGetUsers(data);\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getallusers();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (getUsers.length > 0) {\r\n            drawChart();\r\n        }\r\n    }, [getUsers]);\r\n\r\n    const drawChart = () => {\r\n        const chartData = getUsers.map((user) => ({\r\n            name: user.name,\r\n            tokens: user.tokens.length,\r\n        }));\r\n\r\n        // Create the chart\r\n        const chart = new window.chart(chartRef.current, {\r\n            type: 'bar',\r\n            data: {\r\n                labels: chartData.map((data) => data.name),\r\n                datasets: [\r\n                    {\r\n                        label: 'Logged in times',\r\n                        data: chartData.map((data) => data.tokens),\r\n                        backgroundColor: 'rgba(75, 192, 192, 0.2)',\r\n                        borderColor: 'rgba(75, 192, 192, 1)',\r\n                        borderWidth: 1,\r\n                    },\r\n                ],\r\n            },\r\n            options: {\r\n                scales: {\r\n                    y: {\r\n                        beginAtZero: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"sidebar\">\r\n                {/* Sidebar content */}\r\n            </div>\r\n\r\n            <section className=\"home-section\">\r\n                {/* Section content */}\r\n                <div className=\"salecartableDiv\">\r\n                    <h1 className=\"heading\">\r\n                        <span>Available Users</span>\r\n                    </h1>\r\n\r\n                    <div ref={chartRef} className=\"chart-container\"></div> {/* Chart container element */}\r\n                </div>\r\n            </section>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Logstats;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}