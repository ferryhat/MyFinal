{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/FERIEL/Desktop/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import{NavLink}from'react-router-dom';import Totalusers from'./totalusers';import Swal from'sweetalert2';import{AdminContext}from'../../App';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TotalCars=function TotalCars(){var _useContext=useContext(AdminContext),adminState=_useContext.adminState,dispatchadmin=_useContext.dispatchadmin;var _useState=useState([{_id:'',brand:'',model:'',rent:'',price:'',availability:'',editedPrice:'',newRent:''// New state variable for new rent value\n}]),_useState2=_slicedToArray(_useState,2),getCars=_useState2[0],setGetCars=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),carCount=_useState4[0],setCarCount=_useState4[1];// State variable for car count\nvar getallrenttcars=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data,carsWithEditedPrice;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/getAvailableRentCars',{method:'GET'});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;carsWithEditedPrice=data.map(function(car){return _objectSpread(_objectSpread({},car),{},{editedPrice:'',newRent:''// Initialize new rent for each car\n});});setGetCars(carsWithEditedPrice);setCarCount(data.length);// Update the car count\n_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function getallrenttcars(){return _ref.apply(this,arguments);};}();useEffect(function(){getallrenttcars();},[]);// Rest of the code...\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Total Cars: \",carCount]})})});};export default TotalCars;","map":{"version":3,"names":["React","useState","useEffect","useContext","NavLink","Totalusers","Swal","AdminContext","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","TotalCars","_useContext","adminState","dispatchadmin","_useState","_id","brand","model","rent","price","availability","editedPrice","newRent","_useState2","_slicedToArray","getCars","setGetCars","_useState3","_useState4","carCount","setCarCount","getallrenttcars","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","carsWithEditedPrice","wrap","_callee$","_context","prev","next","fetch","method","sent","json","map","car","_objectSpread","length","t0","console","log","stop","apply","arguments","children","className"],"sources":["C:/Users/FERIEL/Desktop/client/src/components/dashboardComponents/Totalcars.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Totalusers from './totalusers';\r\nimport Swal from 'sweetalert2';\r\nimport { AdminContext } from '../../App';\r\n\r\nconst TotalCars = () => {\r\n    const { adminState, dispatchadmin } = useContext(AdminContext);\r\n    const [getCars, setGetCars] = useState([\r\n        {\r\n            _id: '',\r\n            brand: '',\r\n            model: '',\r\n            rent: '',\r\n            price: '',\r\n            availability: '',\r\n            editedPrice: '',\r\n            newRent: '', // New state variable for new rent value\r\n        },\r\n    ]);\r\n    const [carCount, setCarCount] = useState(0); // State variable for car count\r\n\r\n    const getallrenttcars = async () => {\r\n        try {\r\n            const res = await fetch('/getAvailableRentCars', {\r\n                method: 'GET',\r\n            });\r\n\r\n            const data = await res.json();\r\n            const carsWithEditedPrice = data.map((car) => ({\r\n                ...car,\r\n                editedPrice: '',\r\n                newRent: '', // Initialize new rent for each car\r\n            }));\r\n            setGetCars(carsWithEditedPrice);\r\n            setCarCount(data.length); // Update the car count\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getallrenttcars();\r\n    }, []);\r\n\r\n    // Rest of the code...\r\n\r\n    return (\r\n        <>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <h1 className=\"heading\">\r\n                <span>Total Cars: {carCount}</span>\r\n\r\n            </h1>\r\n\r\n\r\n\r\n\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default TotalCars;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}