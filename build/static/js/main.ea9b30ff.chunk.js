(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,s){},32:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){},55:function(e,t,s){},56:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(25),r=s.n(n),i=(s(31),s(4)),l=(s(32),s(8)),j=s(2),o=s(0),b=function(){var e=Object(a.useState)({name:"",email:"",phone:"",message:""}),t=Object(i.a)(e,2),s=(t[0],t[1],Object(a.useContext)(ae)),c=s.state,n=(s.dispatch,function(){return c?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})});return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[" Krily",Object(o.jsx)("span",{children:"Car"})]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)("a",{href:"#",children:"Home"}),Object(o.jsx)(j.b,{to:"/exploreRentCars",children:" Cars Showcase"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"}),Object(o.jsx)(j.b,{to:"/about",children:"About"}),Object(o.jsx)("a",{href:"/bookingrequest",children:"Make a Booking Request"}),Object(o.jsx)("a",{href:"/contact",children:"Contact"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(n,{})})]}),Object(o.jsx)("section",{class:"separator",children:Object(o.jsx)("div",{})}),Object(o.jsxs)("section",{className:"home",id:"home",children:[Object(o.jsxs)("h3",{"data-speed":"-2",className:"home-parallax",children:[Object(o.jsx)("span",{children:"krily"})," Cars - ",Object(o.jsx)("br",{})," Your Convenient Car Rental Partner."]}),Object(o.jsx)("img",{"data-speed":"5",className:"home-parallax",src:"/image/home.png",alt:""})]}),Object(o.jsx)("section",{className:"case",id:"showcasehome",children:Object(o.jsx)(j.b,{className:"btn",to:"/exploreRentCars",children:"Cars Showcase"})}),Object(o.jsx)("section",{className:"plan-section",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"plan-container",children:[Object(o.jsxs)("div",{className:"plan-container__title",children:[Object(o.jsx)("h3",{children:"Plan your trip now with"}),Object(o.jsx)("h2",{children:"Quick & easy steps "})]}),Object(o.jsxs)("div",{className:"plan-container__boxes",children:[Object(o.jsxs)("div",{className:"plan-container__boxes__box",children:[Object(o.jsx)("i",{class:"fas fa-car"}),Object(o.jsx)("h3",{children:"Select Car"}),Object(o.jsx)("p",{children:"We offers a big range of vehicles for all your driving needs. Choose one, insert the numbers of rent days then add it to your cart"})]}),Object(o.jsxs)("div",{className:"plan-container__boxes__box",children:[Object(o.jsx)("i",{class:"fab fa-cc-visa"}),Object(o.jsx)("h3",{children:"Quick Payment"}),Object(o.jsx)("p",{children:"no more waiting on long queues! with krily cars you can easily book & pay for your car rental online, anytime and anywhere with secure transactions."})]}),Object(o.jsxs)("div",{className:"plan-container__boxes__box",children:[Object(o.jsx)("i",{class:"fas fa-house-user"}),Object(o.jsx)("h3",{children:"Take your car"}),Object(o.jsx)("p",{children:"Visit our location to pick up your reserved car. Please bring your valid driver's license"})]})]})]})})}),Object(o.jsx)("section",{className:"Or",children:Object(o.jsx)("div",{className:"plan-container__title",children:Object(o.jsxs)("h2",{children:["Or ? ",Object(o.jsx)("br",{}),"you can just Request a booking for future dates.."]})})}),Object(o.jsxs)("section",{className:"icons-container",children:[Object(o.jsxs)("div",{className:"icons",children:[Object(o.jsx)("i",{className:"fas fa-map-marker-alt"}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h3",{children:"170+"}),Object(o.jsx)("p",{children:"Locations Served"})]})]}),Object(o.jsxs)("div",{className:"icons",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-key"}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h3",{children:"850+"}),Object(o.jsx)("p",{children:"Cars Rented"})]})]}),Object(o.jsxs)("div",{className:"icons",children:[Object(o.jsx)("i",{className:"fas fa-users"}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h3",{children:"320+"}),Object(o.jsx)("p",{children:"happy clients"})]})]}),Object(o.jsxs)("div",{className:"icons",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car"}),Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("h3",{children:"80+"}),Object(o.jsx)("p",{children:"Available Cars"})]})]})]}),Object(o.jsxs)("section",{className:"services",id:"services",children:[Object(o.jsxs)("h1",{className:"heading",children:[" Our Clients ",Object(o.jsx)("span",{children:"Feedbacks"})," "]}),Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"rev-img",children:Object(o.jsx)("img",{src:"/image/Persons/homme1.jpg",alt:""})}),Object(o.jsx)("h3",{children:"Karim Belkacem"}),Object(o.jsx)("p",{children:"I was thoroughly impressed with KrilyCar. Their website was easy to navigate, the car selection was diverse, the staff was professional, and the whole process was seamless."})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"rev-img",children:Object(o.jsx)("img",{src:"/image/Persons/femme.jpg",alt:"img"})}),Object(o.jsx)("h3",{children:"Feriel Hattou"}),Object(o.jsx)("p",{children:"I had a fantastic experience with KrilyCar. The staff was friendly and accommodating, and the car was comfortable and well-maintained. I highly recommend their services."})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("div",{className:"rev-img",children:Object(o.jsx)("img",{src:"/image/Persons/homme2.jpg",alt:""})}),Object(o.jsx)("h3",{children:"Ahmed Benali"}),Object(o.jsx)("p",{children:"Thanks to this Car Rent, my vacation was a breeze. The website made booking quick, the car was in great condition, and the staff was knowledgeable and helpful. I would choose them again without hesitation."})]})]})]}),Object(o.jsxs)("section",{children:[Object(o.jsx)("div",{className:"plan-container__title",children:Object(o.jsx)("h2",{children:"Available Brands, and more.. "})}),Object(o.jsx)("img",{src:"/image/marques.png",alt:"brands"})]}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})},d=s(3),h=s(5),O=s(6),x=s.n(O),f=function(){var e=Object(a.useContext)(ae),t=(e.state,e.dispatch),s=Object(l.e)(),c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],b=n[1],O=Object(a.useState)(""),f=Object(i.a)(O,2),u=f[0],m=f[1],p=function(){var e=Object(h.a)(Object(d.a)().mark((function e(a){var c,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:u})});case 3:c=e.sent,n=c.json(),400!==c.status&&n?(t({type:"USER",payload:!0}),x.a.fire({icon:"success",title:"Signin Successfull",showConfirmButton:!1,timer:1500}),s.push("/rentcar")):x.a.fire({icon:"error",title:"invalid Credentials, please check your email & password",showConfirmButton:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[" ",Object(o.jsx)("span",{children:"Krily"}),"Car "]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/exploreRentCars",children:" Cars Showcase"}),Object(o.jsx)(j.b,{to:"/about",children:"About"}),Object(o.jsx)("a",{href:"#services",children:"Testimonial"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})]}),Object(o.jsx)("div",{className:"maincontainer",children:Object(o.jsxs)("div",{className:"firstcontainer",children:[Object(o.jsx)("div",{className:"titled"}),Object(o.jsxs)("div",{id:"usersignin",style:{display:"block"},className:"content",children:[Object(o.jsx)("h2",{children:"Signin As User"}),Object(o.jsxs)("form",{method:"POST",children:[Object(o.jsxs)("div",{className:"user-details",children:[Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Email"}),Object(o.jsx)("input",{type:"text",value:r,onChange:function(e){return b(e.target.value)},placeholder:"Enter your email"})]}),Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Password"}),Object(o.jsx)("input",{type:"password",value:u,onChange:function(e){return m(e.target.value)},placeholder:"Enter your password"})]})]}),Object(o.jsx)("div",{className:"button",children:Object(o.jsx)("input",{type:"submit",value:"signin",onClick:p})})]}),Object(o.jsxs)("div",{className:"extra-links",children:[Object(o.jsxs)("h3",{children:[" don't have an account ? ",Object(o.jsx)(j.b,{style:{color:"#03440C"},to:"/signup",children:"create one"})]}),Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(j.b,{style:{color:"#ffffff"},to:"/adminsignin",children:"Signin As Admin"})})]})]})]})})]})},u=s(10),m=s(7),p=(s(53),function(){var e=Object(l.e)(),t=Object(a.useState)({name:"",email:"",phone:"",password:"",cPassword:""}),s=Object(i.a)(t,2),c=s[0],n=s[1],r=function(e){var t=e.target,s=t.name,a=t.value;n(Object(m.a)(Object(m.a)({},c),{},Object(u.a)({},s,a)))},b=function(){var t=Object(h.a)(Object(d.a)().mark((function t(s){var a,n,r,i,l,j,o,b;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),a=c.name,n=c.phone,r=c.email,i=c.password,l=c.cPassword,a&&n&&r&&i&&l){t.next=5;break}return x.a.fire({icon:"error",title:"Invalid Registration",text:"Please fill in all the fields",showConfirmButton:!0}),t.abrupt("return");case 5:if(j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,r&&j.test(r)){t.next=9;break}return x.a.fire({icon:"error",title:"Invalid Registration",text:"Please enter a valid email address",showConfirmButton:!0}),t.abrupt("return");case 9:return t.next=11,fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,phone:n,email:r,password:i,cPassword:l})});case 11:return o=t.sent,t.next=14,o.json();case 14:422!==(b=t.sent).status&&b?(x.a.fire({icon:"success",title:"Registration Successful",showConfirmButton:!1,timer:1500}),console.log("Registration Successful"),e.push("/signin")):(x.a.fire({icon:"error",title:"Invalid Registration",showConfirmButton:!0}),console.log("Invalid Registration"));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[Object(o.jsx)("span",{children:"Krily"}),"Car"]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/exploreRentCars",children:" Cars Showcase"}),Object(o.jsx)(j.b,{to:"/about",children:"About"}),Object(o.jsx)("a",{href:"#services",children:"Testimonial"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})]}),Object(o.jsx)("div",{className:"maincontainer",children:Object(o.jsxs)("div",{className:"firstcontainer",children:[Object(o.jsx)("div",{className:"titled",children:"Registration"}),Object(o.jsx)("div",{className:"content",children:Object(o.jsxs)("form",{method:"POST",children:[Object(o.jsxs)("div",{className:"user-details",children:[Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Full Name"}),Object(o.jsx)("input",{type:"text",name:"name",id:"name",value:c.name,onChange:r,placeholder:"Enter your name"})]}),Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Email"}),Object(o.jsx)("input",{type:"email",name:"email",id:"email",value:c.email,onChange:r,placeholder:"Enter your email"})]}),Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Phone Number"}),Object(o.jsx)("input",{type:"text",name:"phone",id:"phone",value:c.phone,onChange:r,placeholder:"Enter your number"})]}),Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Password"}),Object(o.jsx)("input",{type:"password",name:"password",id:"password",value:c.password,onChange:r,placeholder:"Enter your password"})]}),Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Confirm Password"}),Object(o.jsx)("input",{type:"password",name:"cPassword",id:"cPassword",value:c.cPassword,onChange:r,placeholder:"Confirm your password"})]})]}),Object(o.jsx)("div",{className:"button",children:Object(o.jsx)("input",{type:"submit",name:"signup",id:"signup",value:"register",onClick:b})})]})})]})})]})}),v=(s(54),function(){var e=Object(a.useContext)(ce),t=e.adminState,s=(e.dispatchadmin,Object(l.e)()),c=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/dashboard",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(e.sent,200!==!t.status){e.next=10;break}throw new Error(t.error);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),s.push("/Dashboard");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){c()}),[]);var n=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(n,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"home-content",style:{textAlign:"center"},children:[Object(o.jsx)("h1",{children:"WELCOME TO DASHBOARD"}),Object(o.jsx)("br",{}),Object(o.jsx)("h3",{children:"Go To Add Cars Tab In Side Menu To Add Cars In Database"}),Object(o.jsx)("br",{}),Object(o.jsx)("h3",{children:"Go To Rent Cars Tab In Side Menu To Generate Income Reports of Rented Cars In Database"}),Object(o.jsx)("br",{}),Object(o.jsx)("h3",{children:"Go To Available Users Tab In Side Menu To See All Available Users Regestered In Database"}),Object(o.jsx)("br",{})]})]})]})}),g=function(){var e=Object(a.useContext)(ce),t=(e.adminstate,e.dispatchadmin),s=Object(l.e)(),c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],b=n[1],O=Object(a.useState)(""),f=Object(i.a)(O,2),u=f[0],m=f[1],p=function(){var e=Object(h.a)(Object(d.a)().mark((function e(a){var c,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,fetch("/signinAdmin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({adminName:r,adminPassword:u})});case 3:c=e.sent,n=c.json(),400!==c.status&&n?(t({type:"ADMIN",payload:!0}),x.a.fire({icon:"success",title:"Signin Successfull",showConfirmButton:!1,timer:1500}),s.push("/dashboard")):x.a.fire({icon:"error",title:"invalid Credentials, please check your user name & password",showConfirmButton:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)("a",{href:"#",className:"logo",children:[" ",Object(o.jsx)("span",{children:"Krily"}),"Car "]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{className:"nav-link",to:"/",children:"Home"}),Object(o.jsx)("a",{href:"/contact",children:"Contact"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})]}),Object(o.jsx)("div",{className:"maincontainer",children:Object(o.jsxs)("div",{className:"firstcontainer",children:[Object(o.jsx)("div",{className:"titled"}),Object(o.jsxs)("div",{id:"adminsignin",className:"content",children:[Object(o.jsx)("h2",{children:"Admin SignIn"}),Object(o.jsxs)("form",{method:"POST",children:[Object(o.jsxs)("div",{className:"user-details",children:[Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"User Name"}),Object(o.jsx)("input",{type:"text",value:r,onChange:function(e){return b(e.target.value)},placeholder:"Enter your user name"})]}),Object(o.jsxs)("div",{className:"input-box",children:[Object(o.jsx)("span",{className:"details",children:"Password"}),Object(o.jsx)("input",{type:"password",value:u,onChange:function(e){return m(e.target.value)},placeholder:"Enter your password"})]})]}),Object(o.jsx)("div",{className:"button",children:Object(o.jsx)("input",{type:"submit",value:"signin",onClick:p})})]}),Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"User SignIn"})})]})]})})]})},N=function(){var e=Object(l.e)();return Object(a.useEffect)((function(){fetch("/adminsignout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((function(t){if(localStorage.removeItem("Admin"),e.push("/signin",{replace:!0}),200!=t.status)throw new Error(t.error)})).catch((function(e){console.log(e)}))})),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h1",{children:"Log Out"})})},y=function(){var e,t,s=Object(a.useContext)(ce),c=s.adminState,n=(s.dispatchadmin,Object(l.e)(),Object(a.useState)()),r=Object(i.a)(n,2),b=(r[0],r[1],Object(a.useState)({brand:"",model:"",year:"",color:"",enginecc:"",maxpower:"",airbags:"",rearcamera:"",price:"",retailprice:"",quantity:""})),O=Object(i.a)(b,2),x=(O[0],O[1],Object(a.useState)()),f=Object(i.a)(x,2),p=f[0],v=f[1],g=Object(a.useState)({brand:"",model:"",year:"",color:"",seats:"",price:"",rent:"",description:""}),N=Object(i.a)(g,2),y=N[0],k=N[1],C=function(s){e=s.target.name,t=s.target.value,k(Object(m.a)(Object(m.a)({},y),{},Object(u.a)({},e,t)))},w=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(s=new FormData).append("brand",y.brand),s.append("model",y.model),s.append("year",y.year),s.append("color",y.color),s.append("seats",y.seats),s.append("price",y.price),s.append("rent",y.rent),s.append("myrentfile",p.myrentfile),s.append("description",y.description),e.next=13,fetch("/addrentcars",{method:"POST",body:s});case 13:e.sent;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){return c?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(S,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsx)("div",{className:"home-content",children:Object(o.jsx)("div",{className:"sales-boxes",children:Object(o.jsxs)("div",{className:"recent-sales box",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Add Cars For Rent"})}),Object(o.jsxs)("form",{method:"POST",className:"addcarform",name:"rentform",id:"myrentform",children:[Object(o.jsx)("label",{htmlFor:"fname",children:"Brand: "}),Object(o.jsx)("input",{type:"text",name:"brand",id:"brand",value:y.brand,onChange:C,placeholder:"Enter Car Brand"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"lname",children:"Model: "}),Object(o.jsx)("input",{type:"text",name:"model",id:"model",value:y.model,onChange:C,placeholder:"Enter Car Model"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"fname",children:"Year: "}),Object(o.jsx)("input",{type:"text",name:"year",id:"year",value:y.year,onChange:C,placeholder:"Manufacturing Year"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"fname",children:"Color: "}),Object(o.jsx)("input",{type:"text",name:"color",id:"color",value:y.color,onChange:C,placeholder:"Enter Car Color"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"lname",children:"Seats: "}),Object(o.jsx)("input",{type:"text",name:"seats",id:"seats",value:y.seats,onChange:C,placeholder:"Enter Car Seats"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"lname",children:"Car Price: "}),Object(o.jsx)("input",{type:"text",name:"price",id:"price",value:y.price,onChange:C,placeholder:"Enter car price"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"lname",children:"Car Rent: "}),Object(o.jsx)("input",{type:"text",name:"rent",id:"rent",value:y.rent,onChange:C,placeholder:"Enter rent per day"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"fname",children:"Picture: "}),Object(o.jsx)("input",{type:"file",name:"image",id:"image",onChange:function(e){var t=e.target.files[0];v(Object(m.a)(Object(m.a)({},p),{},{myrentfile:t}))}})," ",Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"fname",children:"Description: "}),Object(o.jsx)("input",{type:"text",name:"description",id:"description",value:y.description,onChange:C,placeholder:"Enter Car Description"}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"button",children:Object(o.jsx)("input",{type:"submit",name:"submit",value:"submit",onClick:w})})]})]})})})]})]})},k=function(){var e=Object(a.useContext)(ce),t=e.adminState,s=(e.dispatchadmin,Object(a.useState)([])),c=Object(i.a)(s,2),n=c[0],r=c[1],l=Object(a.useState)([]),b=Object(i.a)(l,2),O=b[0],x=b[1],f=Object(a.useState)(""),u=Object(i.a)(f,2),m=u[0],p=u[1],v=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getrentcarincome",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,r(s),x(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){v()}),[]);var g=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(g,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"salecartableDiv",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Rented Cars Income Report"})}),Object(o.jsxs)("div",{className:"filter-container",children:[Object(o.jsx)("label",{htmlFor:"filterDate",children:"Filter by Date:"}),Object(o.jsx)("input",{type:"date",id:"filterDate",value:m,onChange:function(e){if(p(e.target.value),""===e.target.value)x(n);else{var t=new Date(e.target.value),s=n.filter((function(e){var s=new Date(e.createdAt);return s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate()}));x(s)}}})]}),Object(o.jsxs)("table",{className:"salecartable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"BRAND"}),Object(o.jsx)("th",{children:"MODEL"}),Object(o.jsx)("th",{children:"BOOKED DAYS"}),Object(o.jsx)("th",{children:"INCOME"}),Object(o.jsx)("th",{children:"Date & Time"})]})}),Object(o.jsx)("tbody",{children:O.map((function(e){return e.soldItems.map((function(t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t.brand}),Object(o.jsx)("td",{children:t.model}),Object(o.jsx)("td",{children:t.bookedDays}),Object(o.jsxs)("td",{children:[t.totalIncome," DA"]}),Object(o.jsx)("td",{children:new Date(e.createdAt).toLocaleString()})]},t._id)}))}))})]})]})]})]})},C=function(){var e=Object(a.useContext)(ce),t=e.adminState,s=(e.dispatchadmin,Object(a.useState)([])),c=Object(i.a)(s,2),n=c[0],r=c[1],l=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getavailableusers",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,r(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l()}),[]);var b=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target.id,e.prev=1,e.next=4,fetch("/deleteUserfromdashboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIdFromDashBoard:s})});case 4:l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(O,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"salecartableDiv",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Available Users"})}),Object(o.jsxs)("p",{children:[n.length," Users"]}),Object(o.jsxs)("table",{className:"salecartable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"NAME "}),Object(o.jsx)("th",{children:"EMAIL "}),Object(o.jsx)("th",{children:"PHONE "}),Object(o.jsx)("th",{children:"DELETE "})]})}),n.map((function(e){return Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.email}),Object(o.jsx)("td",{children:e.phone}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{id:e._id,onClick:b,className:"btn",children:Object(o.jsx)("i",{className:"fa fa-trash"})})})]})},e._id)}))]})]})]})]})},w=function(){var e=Object(a.useContext)(ce),t=e.adminState,s=(e.dispatchadmin,Object(a.useState)([{_id:"",brand:"",model:"",rent:"",price:"",availability:"",editedPrice:"",newRent:"",days:""}])),c=Object(i.a)(s,2),n=c[0],r=c[1],l=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getAvailableRentCars",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,a=s.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{editedPrice:"",newRent:""})})),r(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l()}),[]);var b=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.target.id,e.prev=1,e.next=4,fetch("/deleteRentCarFromDashboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({carIdFromDashBoard:s})});case 4:l(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t,s){var a,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.id,c=n[s].days){e.next=5;break}return x.a.fire({icon:"error",title:"Error",text:"Please enter the number of days to update the availability"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch("/updateAvailability",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({idRentedCar:a,daysRequired:c})});case 8:x.a.fire({icon:"success",title:"Availability Updated",text:"The availability has been updated successfully!"}),l(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,s){return e.apply(this,arguments)}}(),f=Object(a.useState)(""),u=Object(i.a)(f,2),p=(u[0],u[1],function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})}),v=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t,s){var a,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.id,c=n[s].newRent){e.next=5;break}return x.a.fire({icon:"error",title:"Error",text:"Please enter a valid rent value"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,fetch("/updateCarRent",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({carIdFromDashBoard:a,newRent:c})});case 8:x.a.fire({icon:"success",title:"Rent Updated",text:"The rent has been updated successfully!"}),l(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,s){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(p,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"salecartableDiv",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Available Rent Cars"})}),Object(o.jsxs)("table",{className:"salecartable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"BRAND"}),Object(o.jsx)("th",{children:"MODEL"}),Object(o.jsx)("th",{children:"RENT"}),Object(o.jsx)("th",{children:"AVAILABILITY"}),Object(o.jsx)("th",{children:"EDIT PRICE"}),Object(o.jsx)("th",{children:"UPDATE AVAILABILITY"}),Object(o.jsx)("th",{children:"DELETE"})]})}),n.map((function(e,t){return Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.brand}),Object(o.jsx)("td",{children:e.model}),Object(o.jsx)("td",{children:e.rent}),Object(o.jsxs)("td",{children:[e.availability," days"]}),Object(o.jsxs)("td",{children:[Object(o.jsx)("input",{type:"number",value:e.newRent,onChange:function(e){return r((function(s){return s.map((function(s,a){return a===t?Object(m.a)(Object(m.a)({},s),{},{newRent:e.target.value}):s}))}))}}),Object(o.jsx)("button",{id:e._id,onClick:function(e){return v(e,t)},className:"btn",children:Object(o.jsx)("i",{className:"fa fa-pencil"})})]}),Object(o.jsxs)("td",{children:[Object(o.jsx)("input",{type:"number",value:n[t].days,onChange:function(e){return r((function(s){return s.map((function(s,a){return a===t?Object(m.a)(Object(m.a)({},s),{},{days:e.target.value}):s}))}))}}),Object(o.jsx)("button",{id:e._id,onClick:function(e){return O(e,t)},className:"btn",children:Object(o.jsx)("i",{className:"fa fa-pencil"})})]}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{id:e._id,onClick:b,className:"btn",children:Object(o.jsx)("i",{className:"fa fa-trash"})})})]})},e._id)}))]})]})]})]})},S=function(){var e=Object(a.useContext)(ae),t=e.state,s=(e.dispatch,Object(l.e)()),c=Object(a.useState)([]),n=Object(i.a)(c,2),r=n[0],b=n[1],O=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var a,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t||x.a.fire({title:"Please signin to rent a car!",icon:"warning",showCancelButton:!0,confirmButtonText:"OK"}).then((function(e){e.isConfirmed?s.push("/signin"):s.push("/")})),e.next=4,fetch("/getRentCarData",{method:"GET"});case 4:return a=e.sent,e.next=7,a.json();case 7:if(c=e.sent,b(c),200!==!a.status){e.next=12;break}throw new Error(a.error);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O()}),[]);var f=document.getElementsByClassName("specsDivRentcar"),u=document.getElementsByClassName("cardivRentcar"),m=document.getElementsByClassName("formDivRentcar"),p=function(e){var t=e.target.id;"none"===f[t].style.display&&"block"===u[t].style.display?(u[t].style.display="none",f[t].style.display="block"):(u[t].style.display="block",f[t].style.display="none")},v=function(e){var t=e.target.id;"block"===f[t].style.display&&"none"===u[t].style.display?(f[t].style.display="none",u[t].style.display="block"):(f[t].style.display="block",u[t].style.display="none")},g=Object(a.useState)(""),N=Object(i.a)(g,2),y=N[0],k=N[1],C=function(e){var t=e.target.value;k(t)},w=function(e){var t=e.target.id;"none"===m[t].style.display&&"none"===f[t].style.display&&"block"===u[t].style.display?(u[t].style.display="none",f[t].style.display="none",m[t].style.display="block"):(m[t].style.display="none",f[t].style.display="none",u[t].style.display="block")},S=function(e){var t=e.target.id;"block"===m[t].style.display&&"none"===f[t].style.display&&"none"===u[t].style.display?(u[t].style.display="block",f[t].style.display="none",m[t].style.display="none"):(m[t].style.display="block",f[t].style.display="none",u[t].style.display="none")},D=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var a,c,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.id,e.next=4,fetch("/addrentcartocart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:a,rentDays:y})});case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,500!==c.status&&n?400===c.status&&"Item is already in the cart"===n.error?x.a.fire({title:"Item is already in the cart",icon:"warning",confirmButtonText:"OK"}).then((function(e){s.push("/rentcarcart")})):400===c.status&&"Item is not available for rent"===n.error?x.a.fire({title:"Item is not available for rent",icon:"warning",confirmButtonText:"OK"}):201===c.status&&x.a.fire({title:"Item added to cart",icon:"success",confirmButtonText:"OK"}).then((function(e){s.push("/rentcarcart")})):x.a.fire({title:"Something went wrong",icon:"error",confirmButtonText:"OK"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})},R=Object(a.useState)(""),T=Object(i.a)(R,2),E=T[0],A=T[1],P=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/searchRentCar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchText:E})});case 2:e.sent,I();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/rentcarsearchCategory",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,b(s),200!==!t.status){e.next=11;break}throw new Error(t.error);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[" ",Object(o.jsx)("span",{children:"Krily"}),"Car "]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{className:"nav-link",to:"/",children:"Home"}),Object(o.jsx)(j.b,{className:"nav-link",to:"/rentcarcart",children:"Go To Cart"}),Object(o.jsx)("input",{type:"text",name:"name",placeholder:"Search Car",style:{width:"30%",height:"8%"},value:E,onChange:function(e){return A(e.target.value)},className:"btn"}),Object(o.jsx)("button",{type:"submit",onClick:P,className:"btn",children:Object(o.jsx)("i",{className:"fa fa-search"})}),Object(o.jsx)("a",{href:"/bookingrequest",children:"Make a Booking Request"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(_,{})})]}),Object(o.jsx)("div",{className:"rentcarcard",children:r.map((function(e,t){return[Object(o.jsxs)("div",{className:"cardivRentcar",children:[Object(o.jsx)("img",{src:e.filePath,alt:"",style:{width:"72%",height:"50%"}}),Object(o.jsx)("p",{children:Object(o.jsxs)("b",{children:[e.brand," ",e.model]})}),Object(o.jsxs)("p",{children:["Year : ",e.year]}),Object(o.jsxs)("p",{children:["Color : ",e.color]}),Object(o.jsxs)("p",{children:["Seats : ",e.seats]}),Object(o.jsxs)("p",{children:["Rent Per Day : ",e.rent," DA"]}),Object(o.jsxs)("p",{style:{color:"red"},children:["Availibility : ",e.availability+" days"]}),Object(o.jsxs)("div",{style:{display:"flex",gap:"4px",justifyContent:"center"},children:[Object(o.jsx)("button",{className:"cardbtn",id:t,onClick:p,children:Object(o.jsx)(j.b,{className:"nav-link",to:{pathname:"/detail",state:{id:e._id}},children:"More Details"})}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"cardbtn",id:t,onClick:w,children:"Add To Cart"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"cardbtn",children:Object(o.jsx)(j.b,{className:"nav-link",to:{pathname:"/rentcarreviews",state:{id:e._id}},children:"Car Reviews"})})]})]},e._id),Object(o.jsx)("div",{className:"specsDivRentcar",children:Object(o.jsx)("div",{style:{display:"flex",gap:"15px"},children:Object(o.jsx)("button",{className:"cardbtn",id:t,onClick:v,children:"show car"})})},new Date),Object(o.jsxs)("div",{className:"formDivRentcar",children:[Object(o.jsxs)("form",{method:"POST",children:[Object(o.jsx)("h3",{children:"Before click on proceed please enter for how many days do you want to rent the car"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"lname",children:"Rent Days: "}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",className:"cardbtn",name:"rentfordays",value:y,onChange:C,placeholder:"Enter rent days"}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",className:"cardbtn",value:"Proceed",id:e._id,onClick:D})]}),Object(o.jsx)("button",{className:"cardbtn",id:t,onClick:S,children:"show car"})]},t)]}))}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})},D=s(17),_=s.n(D),R=function(){var e,t=Object(a.useContext)(ae),s=t.state,c=(t.dispatch,Object(a.useState)([])),n=Object(i.a)(c,2),r=(n[0],n[1]),l=Object(a.useState)([]),b=Object(i.a)(l,2),O=b[0],x=b[1],f=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getCartData",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,r(s.userById),x(s.cartItems),200!==!t.status){e.next=12;break}throw new Error(t.error);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]),O.map((function(t){e=t.price}));var u,m=function(){return fetch("/updateDataBase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:O})})},p=function(){return s?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})},v=function(e){return u=e.target.id,fetch("/deleteitemfromcart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cartitemid:u})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[" ",Object(o.jsx)("span",{children:"Krily"}),"Car "]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(p,{})})]}),Object(o.jsx)("div",{className:"salecartMaindiv",children:Object(o.jsxs)("div",{style:{marginTop:"150px"},children:[O.map((function(e){return Object(o.jsx)("div",{className:"salecartLidiv",children:Object(o.jsx)("ul",{children:Object(o.jsxs)("li",{style:{wordSpacing:"10px"},children:["Brand: ",e.brand," --- Model: ",e.model," --- Quantity: ",e.quantity," --- Price: ",e.price,"Taka ",Object(o.jsx)("button",{id:e._id,onClick:v,className:"btn",children:Object(o.jsx)("i",{className:"fa fa-trash"})})]})})},e._id)})),Object(o.jsxs)("div",{style:{padding:"30px",textAlign:"center"},children:[Object(o.jsx)("h2",{children:"Pay Through Credit / Debit Cared"}),Object(o.jsx)("br",{}),Object(o.jsx)(_.a,{stripeKey:"pk_test_51Jyb5UBvc4Qazj8jy6qimLop4epxe5jziUD3ixj5ISycjjD6yYVGZhk688Pz9Lna32VTHbSHxRwkrvNNnnnr96P000M68u5jcd",token:function(t){!function(e,t){fetch("/stripePay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t.id,amount:e})})}(e,t),m()}})]})]})})]})},T=function(){var e,t,s,c=Object(a.useContext)(ae),n=c.state,r=(c.dispatch,Object(a.useState)([])),l=Object(i.a)(r,2),b=(l[0],l[1]),O=Object(a.useState)([]),x=Object(i.a)(O,2),f=x[0],u=x[1],m=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getRentCartData",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,b(s.userById),u(s.cartItems),200!==!t.status){e.next=12;break}throw new Error(t.error);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m()}),[]),f.forEach((function(a){e=a.totalbill,t=a.rentcarid,s=a.requireddays}));var p=function(){return fetch("/updateRentDataBase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:f})})},v=function(){return n?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})},g=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/deleteCartItem/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:200===e.sent.status&&window.location.reload(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[Object(o.jsx)("span",{children:"Krily"}),"Car"]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(v,{})})]}),Object(o.jsx)("div",{className:"salecartMaindiv",children:Object(o.jsxs)("div",{style:{marginTop:"150px"},children:[f.map((function(e){return Object(o.jsx)("div",{className:"salecartLidiv",children:Object(o.jsx)("ul",{children:Object(o.jsxs)("li",{style:{wordSpacing:"10px"},children:["Brand: ",e.brand," --- Model: ",e.model," --- Days: ",e.requireddays," --- RentPerDay: ",e.rentperday,"DA --- TotalBill: ",e.totalbill,"DA ---",Object(o.jsx)("button",{className:"btn",id:"delete",onClick:function(){return g(e._id)},children:Object(o.jsx)("i",{className:"fa fa-trash"})})]})})},e._id)})),Object(o.jsxs)("div",{style:{padding:"30px",textAlign:"center"},children:[Object(o.jsx)("h2",{children:"Pay through Credit / Debit Card"}),Object(o.jsx)("br",{}),Object(o.jsx)(_.a,{stripeKey:"pk_test_51Jyb5UBvc4Qazj8jy6qimLop4epxe5jziUD3ixj5ISycjjD6yYVGZhk688Pz9Lna32VTHbSHxRwkrvNNnnnr96P000M68u5jcd",token:function(a){!function(e,a){fetch("/stripeRentPay",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a.id,amount:e,idRentedCar:t,daysRequired:s})})}(e,a),p()}})]}),Object(o.jsx)("div",{class:"car-message",children:Object(o.jsx)("h1",{children:"Your car is waiting for you, After making the payment, Please come to our agency to collect it."})})]})})]})},E=function(){var e=Object(a.useContext)(ae),t=e.state,s=(e.dispatch,Object(l.e)()),c=Object(l.f)().state,n=Object(a.useState)({id:"",name:"",email:"",message:""}),r=Object(i.a)(n,2),b=r[0],O=r[1],f=Object(a.useState)({id:"",brand:"",model:"",year:"",color:"",seats:"",rent:"",fileName:"",filePath:"",fileType:"",fileSize:"",description:""}),p=Object(i.a)(f,2),v=p[0],g=p[1],N=Object(a.useState)([]),y=Object(i.a)(N,2),k=y[0],C=y[1],w=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/sendReviewRentCarId",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedCarId:c})});case 3:if(200!==!(t=e.sent).status){e.next=7;break}throw new Error(t.error);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){w()}),[]);var S=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getRentCarReviews",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,g({id:s.findCar._id,brand:s.findCar.brand,model:s.findCar.model,year:s.findCar.year,color:s.findCar.color,seats:s.findCar.seats,rent:s.findCar.rent,fileName:s.findCar.fileName,filePath:s.findCar.filePath,fileType:s.findCar.fileType,fileSize:s.findCar.fileSize,description:s.findCar.description}),O(Object(m.a)(Object(m.a)({},b),{},{id:s.findUser._id,name:s.findUser.name,email:s.findUser.email})),200!==!t.status){e.next=12;break}throw new Error(t.error);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S()}),[]);var D=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getallreviewsforselectedrentcar",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,C(s.allReviews),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){D()}),[]);var _=function(e){var t=e.target.name,s=e.target.value;O(Object(m.a)(Object(m.a)({},b),{},Object(u.a)({},t,s)))},R=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var a,n,r,i,l,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=b.id,n=b.name,r=b.email,i=b.message,n&&r&&i){e.next=5;break}return x.a.fire({icon:"error",title:"Invalid Message",text:"Please fill in all the fields",showConfirmButton:!0}),e.abrupt("return");case 5:return e.next=7,fetch("/postrentcarreviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,name:n,email:r,message:i,selectedCarId:c})});case 7:return l=e.sent,e.next=10,l.json();case 10:500!==(j=e.sent).status&&j?(j.status,x.a.fire({icon:"success",title:"Review submitted",showConfirmButton:!1,timer:1500}),O(Object(m.a)(Object(m.a)({},b),{},{message:""})),s.go(0)):(x.a.fire({icon:"error",title:"Review not submitted",showConfirmButton:!1,timer:1500}),console.log("reviews not submitted"));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[Object(o.jsx)("span",{children:"Krily"}),"Car"," "]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(T,{})})]}),Object(o.jsxs)("div",{className:"reviewsdiv",children:[Object(o.jsx)("img",{src:v.filePath,alt:"",style:{width:"50%",height:"50%"}}),Object(o.jsx)("h4",{children:Object(o.jsx)("b",{children:v.brand})}),Object(o.jsxs)("p",{children:["Model: ",v.model]}),Object(o.jsxs)("p",{children:["Year: ",v.year]}),Object(o.jsxs)("p",{children:["Color: ",v.color]}),Object(o.jsxs)("p",{children:["Seats: ",v.seats]}),Object(o.jsxs)("p",{children:["Rent Price Per Day: ",v.rent," DA "]})]}),Object(o.jsxs)("section",{className:"contact",id:"contact",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Reviews"})}),k.map((function(e){return Object(o.jsx)("div",{className:"reviewsli",children:Object(o.jsx)("ul",{children:Object(o.jsxs)("li",{style:{wordSpacing:"10px"},children:[e.name," :- ",e.comments]})})},e._id)})),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("form",{method:"POST",children:[Object(o.jsx)("h3",{children:"write your reviews"}),Object(o.jsx)("input",{type:"text",name:"name",value:b.name,onChange:_,placeholder:"your name",className:"box"}),Object(o.jsx)("input",{type:"email",name:"email",value:b.email,onChange:_,placeholder:"your email",className:"box"}),Object(o.jsx)("textarea",{placeholder:"your reviews",name:"message",value:b.message,onChange:_,className:"box",cols:"30",rows:"10"}),Object(o.jsx)("input",{type:"submit",value:"submit reviews",onClick:R,className:"btn"})]})})]})]})},A=function(){var e=Object(l.e)();return Object(a.useEffect)((function(){fetch("/signout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((function(t){if(localStorage.removeItem("User"),e.push("/signin",{replace:!0}),window.location.reload(),200!=t.status)throw new Error(t.error)})).catch((function(e){console.log(e)}))})),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h1",{children:"Log Out"})})},P=function(){var e=Object(a.useContext)(ae),t=e.state,s=(e.dispatch,function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})}),c=Object(a.useState)([]),n=Object(i.a)(c,2),r=n[0],l=n[1],b=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/exploreRentCarData",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,l(s),200!==!t.status){e.next=11;break}throw new Error(t.error);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){b()}),[]);var O=function(){x.a.fire({title:"Do You Like This Car?",icon:"question",showCancelButton:!0,confirmButtonText:"Rent Now",cancelButtonText:"Cancel"}).then((function(e){e.isConfirmed&&(window.location.href="/rentcar")}))};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[Object(o.jsx)("span",{children:"Krily"}),"Car"]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"}),Object(o.jsx)(j.b,{to:"/about",children:"About"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(s,{})})]}),Object(o.jsx)("div",{className:"exploreCarsDiv",children:r.map((function(e,t){return Object(o.jsxs)("div",{className:"exploreCarsImg",children:[Object(o.jsx)("img",{src:e.filePath,alt:"",style:{width:"80%",height:"70%"},onClick:O}),Object(o.jsx)("h4",{children:Object(o.jsx)("b",{children:e.brand})}),Object(o.jsx)("p",{children:e.model}),Object(o.jsxs)("p",{children:["Year: ",e.year]}),Object(o.jsxs)("p",{children:["Rent Per Day: ",e.rent," DA"]}),Object(o.jsxs)("p",{children:["Seats: ",e.seats]})]},e._id)}))}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})},I=(s(55),s.p+"static/media/about.8c2d3187.png"),B=s.p+"static/media/about-car.9b30faa5.png",L=s.p+"static/media/safe.2ca9cb29.png",F=function(){var e=Object(a.useContext)(ae).state,t=function(){return e?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"aboutheader",children:Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:["Krily",Object(o.jsx)("span",{children:"Car"})]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/exploreRentCars",children:" Cars Showcase"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"}),Object(o.jsx)(j.b,{to:"/about",children:"About"}),Object(o.jsx)("a",{href:"/contact",children:"Contact"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(t,{})})]})}),Object(o.jsx)("section",{className:"common-section",style:{backgroundImage:"url(".concat(I,")")},children:Object(o.jsx)("div",{className:"common-section__overlay",children:Object(o.jsx)("h2",{className:"common-section__title",children:"About Us"})})}),Object(o.jsx)("section",{className:"about__section",children:Object(o.jsxs)("div",{className:"about__content-wrapper",children:[Object(o.jsxs)("div",{className:"about__section-content",children:[Object(o.jsx)("h4",{className:"section__subtitle",children:"About Us"}),Object(o.jsx)("h2",{className:"section__title",children:"Welcome to car rent service"}),Object(o.jsx)("p",{className:"section__description",children:"Welcome to KrilyCar, your premier car rental service located in Blida. We are dedicated to providing exceptional car rental solutions tailored to meet your needs. With a wide range of well-maintained vehicles and a team of professional staff, we ensure a seamless and enjoyable rental experience. Whether you're traveling for business or pleasure, trust KrilyCar to provide reliable, safe, and affordable transportation options. Discover the freedom of the open road with KrilyCar and embark on your next adventure with confidence."})]}),Object(o.jsx)("div",{className:"about__img",children:Object(o.jsx)("img",{className:"polo",src:B,alt:"abtcar"})})]})}),Object(o.jsxs)("section",{className:"about__page-section",children:[Object(o.jsx)("div",{className:"about__page-img",children:Object(o.jsx)("img",{src:L,alt:"saferide",className:"w-100 rounded-3"})}),Object(o.jsxs)("div",{className:"about__page-content",children:[Object(o.jsx)("h2",{className:"section__title",children:"We Are Committed To Provide Safe Ride Solutions"}),Object(o.jsx)("p",{className:"section__description",children:"Our priority is ensuring the safety and well-being of our customers. With well-maintained vehicles and trained drivers, we strive to deliver secure and comfortable journeys."}),Object(o.jsx)("p",{className:"section__description",children:"Our rigorous safety measures and continuous monitoring guarantee a reliable and trustworthy service. Trust us for a safe and worry-free transportation experience."}),Object(o.jsxs)("div",{className:" d-flex align-items-center gap-3 mt-4",children:[Object(o.jsx)("span",{className:"fs-4",children:Object(o.jsx)("i",{className:"ri-phone-line"})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("a",{className:"help-link",children:"Need help? Call Us"}),Object(o.jsx)("h4",{className:"phone",children:"+213-555-621-937"})]})]})]})]}),Object(o.jsx)("section",{class:"become__driver",children:Object(o.jsxs)("div",{class:"container",children:[Object(o.jsx)("div",{class:"become__driver-img",children:Object(o.jsx)("img",{src:"",alt:"",class:"w-100"})}),Object(o.jsxs)("div",{class:"",children:[Object(o.jsx)("h2",{class:"section__title become__driver-title",children:"Do You Want to Earn With Us? So Don't Be Late"}),Object(o.jsx)("button",{class:"btn become__driver-btn",children:"Become a Driver"}),Object(o.jsxs)("h3",{className:"para",children:["We offer exciting opportunities for individuals who are motivated, dedicated, and eager to grow. Whether you're looking for part-time work or a full-time career, we have flexible options to suit your needs. Our supportive and collaborative environment ensures that you'll have the resources and guidance to succeed. Take the first step towards us ",Object(o.jsx)("span",{children:"All you need is to come to our agency with your driver license "})," Don't miss out on this incredible opportunity \u2013 seize it today!"]})]})]})}),Object(o.jsx)("section",{class:"baner",children:Object(o.jsx)("div",{})}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})},q=function(){var e=Object(a.useState)({name:"",email:"",phone:"",message:""}),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useContext)(ae).state,r=Object(l.e)();Object(a.useEffect)((function(){n||x.a.fire({title:"Please signin to contact us!",icon:"warning",showCancelButton:!0,confirmButtonText:"OK"}).then((function(e){e.isConfirmed?r.push("/signin"):r.push("/")}))}),[n,r]);var b=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getdata",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,c(Object(m.a)(Object(m.a)({},s),{},{name:a.name,email:a.email,phone:a.phone})),200!==!t.status){e.next=11;break}throw new Error(t.error);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){b()}),[]);var O=function(e){var t=e.target.name,a=e.target.value;c(Object(m.a)(Object(m.a)({},s),{},Object(u.a)({},t,a)))},f=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var a,n,r,i,l;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=s.name,n=s.email,r=s.phone,i=s.message,a&&n&&r&&i){e.next=5;break}return x.a.fire({icon:"error",title:"Invalid Message",text:"Please fill in all the fields",showConfirmButton:!0}),e.abrupt("return");case 5:return e.next=7,fetch("/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:n,phone:r,message:i})});case 7:return l=e.sent,e.next=10,l.json();case 10:e.sent?(x.a.fire({icon:"success",title:"Your message has been saved",showConfirmButton:!1,timer:1500}),c(Object(m.a)(Object(m.a)({},s),{},{message:""}))):console.log("message not sent");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){return n?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})};return Object(a.useEffect)((function(){n||r.push("/signin")}),[n,r]),Object(o.jsx)(o.Fragment,{children:n&&Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"contactheader",children:Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:["Krily",Object(o.jsx)("span",{children:"Car"})]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"}),Object(o.jsx)(j.b,{to:"/about",children:"About"}),Object(o.jsx)("a",{href:"/bookingrequest",children:"Make a Booking Request"}),Object(o.jsx)("a",{href:"/contact",children:"Contact"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(p,{})})]})}),Object(o.jsxs)("section",{className:"contact",id:"contact",children:[Object(o.jsxs)("h1",{className:"heading",children:[Object(o.jsx)("span",{children:"contact"})," us"]}),Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("form",{method:"POST",children:[Object(o.jsx)("h3",{children:"Reach. Connect. Engage."}),Object(o.jsx)("input",{type:"text",name:"name",value:s.name,onChange:O,placeholder:"your name",className:"box"}),Object(o.jsx)("input",{type:"email",name:"email",value:s.email,onChange:O,placeholder:"your email",className:"box"}),Object(o.jsx)("input",{type:"tel",name:"phone",value:s.phone,onChange:O,placeholder:"your phone",className:"box"}),Object(o.jsx)("textarea",{placeholder:"your message",name:"message",value:s.message,onChange:O,className:"box",cols:"30",rows:"10"}),Object(o.jsx)("input",{type:"submit",value:"send message",onClick:f,className:"btn"})]})})]}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})})},M=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useContext)(ce),r=n.adminState,l=(n.dispatchadmin,function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/messages");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,c(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){l()}),[]);var b=function(){return r?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})};return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(b,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"salecartableDiv",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Users Messages"})}),Object(o.jsxs)("table",{className:"salecartable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"NAME"}),Object(o.jsx)("th",{children:"EMAIL"}),Object(o.jsx)("th",{children:"PHONE"}),Object(o.jsx)("th",{children:"MESSAGE"}),Object(o.jsx)("th",{children:"DELETE"})]})}),Object(o.jsx)("tbody",{children:s.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.email}),Object(o.jsx)("td",{children:e.phone}),Object(o.jsx)("td",{children:e.message}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{className:"btn",id:"delete",onClick:function(){return function(e){try{fetch("/messages/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){t.success&&c((function(t){return t.filter((function(t){return t._id!==e}))})),l()})).catch((function(e){return console.error(e)}))}catch(t){console.error(t)}}(e._id)},children:Object(o.jsx)("i",{className:"fa fa-trash"})})})]},e._id)}))})]})]})]})]})},U=function(){var e=Object(a.useContext)(ce),t=(e.adminState,e.dispatchadmin,Object(a.useState)([])),s=Object(i.a)(t,2),c=s[0],n=s[1];Object(a.useEffect)((function(){r()}),[]);var r=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getallreviews");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,n(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"All Reviews"}),c.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsxs)("h3",{children:[e.carById.brand," - ",e.carById.model]}),Object(o.jsx)("ul",{children:e.allReviews.map((function(e){return Object(o.jsxs)("li",{children:[Object(o.jsxs)("p",{children:["Name: ",e.name]}),Object(o.jsxs)("p",{children:["Email: ",e.email]}),Object(o.jsxs)("p",{children:["Comments: ",e.comments]})]},e._id)}))})]},e._id)}))]})},K=function(){var e=Object(a.useState)({name:"",email:"",phone:""}),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)({name:"",email:"",phone:"",pickupDate:"",returnDate:"",car:""}),r=Object(i.a)(n,2),b=r[0],O=r[1],f=Object(a.useState)([]),p=Object(i.a)(f,2),v=p[0],g=p[1],N=Object(a.useContext)(ae).state,y=Object(l.e)();Object(a.useEffect)((function(){if(N){var e=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getdata",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,c(Object(m.a)(Object(m.a)({},s),{},{name:a.name,email:a.email,phone:a.phone})),t.ok){e.next=10;break}throw new Error(t.error);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}else x.a.fire({title:"Please sign in to make a booking request!",icon:"warning",showCancelButton:!0,confirmButtonText:"OK"}).then((function(e){e.isConfirmed?y.push("/signin"):y.push("/")}))}),[N,y]);var k=function(e){var t=e.target.name,a=e.target.value;c(Object(m.a)(Object(m.a)({},s),{},Object(u.a)({},t,a)))};Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getAvailableRentCars");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,a=s.map((function(e){return"".concat(e.brand," ").concat(e.model," ").concat(e.year)})),g(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching car list:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(e){var t=e.target.name,s=e.target.value;O(Object(m.a)(Object(m.a)({},b),{},Object(u.a)({},t,s)))},w=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var a,c,n,r,i,l,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=s.name,c=s.email,n=s.phone,r=b.pickupDate,i=b.returnDate,l=b.car,a&&c&&n&&r&&i&&l){e.next=6;break}return x.a.fire({icon:"error",title:"Invalid Request",text:"Please fill in all the fields",showConfirmButton:!0}),e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch("/saveBooking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:c,phone:n,pickupDate:r,returnDate:i,car:l})});case 9:return j=e.sent,e.next=12,j.json();case 12:e.sent?(x.a.fire({icon:"success",title:"Your request has been saved",showConfirmButton:!1,timer:1500}),O({name:"",email:"",phone:"",pickupDate:"",returnDate:"",car:""})):console.log("Request not sent"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){return N?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})},D=(new Date).toISOString().split("T")[0];return Object(o.jsx)(o.Fragment,{children:N&&Object(o.jsxs)("div",{className:"make-booking-request",children:[Object(o.jsx)("div",{className:"contactheader",children:Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:["Krily",Object(o.jsx)("span",{children:"Car"})]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"}),Object(o.jsx)(j.b,{to:"/about",children:"About"}),Object(o.jsx)("a",{href:"/contact",children:"Contact"}),Object(o.jsx)("a",{href:"/list",children:"Track my requests"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(S,{})})]})}),Object(o.jsxs)("div",{className:"booking-request",children:[Object(o.jsxs)("form",{className:"form-booking",method:"POST",children:[Object(o.jsx)("h1",{children:"Booking Request"}),Object(o.jsxs)("label",{children:[Object(o.jsx)("h3",{children:"Name:"}),Object(o.jsx)("input",{type:"text",name:"name",value:s.name,onChange:k,placeholder:"Your Name"})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:[Object(o.jsx)("h3",{children:"Email:"}),Object(o.jsx)("input",{type:"email",name:"email",value:s.email,onChange:k,placeholder:"Your Email"})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:[Object(o.jsx)("h3",{children:"Phone:"}),Object(o.jsx)("input",{type:"tel",name:"phone",value:s.phone,onChange:k,placeholder:"Your Phone"})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:[Object(o.jsx)("h3",{children:"Pickup Date:"}),Object(o.jsx)("input",{type:"date",name:"pickupDate",value:b.pickupDate,onChange:C,min:D})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:[Object(o.jsx)("h3",{children:"Return Date:"}),Object(o.jsx)("input",{type:"date",name:"returnDate",value:b.returnDate,onChange:C,min:b.pickupDate||D})]}),Object(o.jsx)("br",{}),Object(o.jsxs)("label",{children:[Object(o.jsx)("h3",{children:"Car:"}),Object(o.jsxs)("select",{name:"car",value:b.car,onChange:C,children:[Object(o.jsx)("option",{value:"",children:"Select a car"}),v.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))]})]}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"submit",value:"Send booking request",onClick:w,className:"btn"})]}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})]})})},Y=function(){var e=Object(a.useContext)(ce),t=e.adminState,s=(e.dispatchadmin,Object(a.useState)([])),c=Object(i.a)(s,2),n=c[0],r=c[1],l=Object(a.useState)([]),b=Object(i.a)(l,2),O=b[0],f=b[1],u=Object(a.useState)(""),m=Object(i.a)(u,2),p=m[0],v=m[1],g=Object(a.useState)(""),N=Object(i.a)(g,2),y=N[0],k=N[1],C=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getBookings");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,r(s.bookings),f(s.bookings),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){C()}),[]);var w=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t,s){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/updateBookingStatus/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});case 3:C(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,s){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/deleteBooking/".concat(t),{method:"DELETE"});case 3:C(),x.a.fire("Success","Booking deleted successfully","success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){"filterDate"===e.target.name?v(e.target.value):"filterStatus"===e.target.name&&k(e.target.value)};Object(a.useEffect)((function(){var e=n;if(""!==p){var t=new Date(p);e=e.filter((function(e){var s=new Date(e.pickupDate.split("T")[0]);return s.getFullYear()===t.getFullYear()&&s.getMonth()===t.getMonth()&&s.getDate()===t.getDate()}))}""!==y&&(e=e.filter((function(e){return e.status===y}))),f(e)}),[n,p,y]);var _=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"Logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"Login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(_,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"salecartableDivrq",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Booking Requests"})}),Object(o.jsxs)("div",{className:"filter-container",children:[Object(o.jsx)("label",{htmlFor:"filterDate",children:"Filter by Pickup Date:"}),Object(o.jsx)("input",{type:"date",id:"filterDate",name:"filterDate",value:p,onChange:D}),Object(o.jsx)("label",{htmlFor:"filterStatus",children:"Filter by Status:"}),Object(o.jsxs)("select",{id:"filterStatus",name:"filterStatus",value:y,onChange:D,children:[Object(o.jsx)("option",{value:"",children:"All"}),Object(o.jsx)("option",{value:"Pending",children:"Pending"}),Object(o.jsx)("option",{value:"Approved",children:"Approved"}),Object(o.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),Object(o.jsx)("div",{className:"table-container",children:Object(o.jsxs)("table",{className:"salecartable",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"User's Email"}),Object(o.jsx)("th",{children:"Phone"}),Object(o.jsx)("th",{children:"Car"}),Object(o.jsx)("th",{children:"Status"}),Object(o.jsx)("th",{children:"Request date"}),Object(o.jsx)("th",{children:"Request Exact Time"}),Object(o.jsx)("th",{children:"Pickup Date"}),Object(o.jsx)("th",{children:"Return Date"}),Object(o.jsx)("th",{children:"DELETE"})]})}),Object(o.jsx)("tbody",{children:O.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.user}),Object(o.jsx)("td",{children:e.phone}),Object(o.jsx)("td",{children:e.car}),Object(o.jsx)("td",{children:Object(o.jsxs)("select",{value:e.status,onChange:function(t){return function(e,t){var s=e.target.value;w(t,s)}(t,e._id)},children:[Object(o.jsx)("option",{value:"Pending",children:"Pending"}),Object(o.jsx)("option",{value:"Approved",children:"Approved"}),Object(o.jsx)("option",{value:"Rejected",children:"Rejected"})]})}),Object(o.jsx)("td",{children:e.createdAt.split("T")[0]}),Object(o.jsx)("td",{children:e.createdAt.split("T")[1]}),Object(o.jsx)("td",{children:e.pickupDate.split("T")[0]}),Object(o.jsx)("td",{children:e.returnDate.split("T")[0]}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{className:"btn",id:"delete",onClick:function(){return S(e._id)},children:Object(o.jsx)("i",{className:"fa fa-trash"})})})]},e._id)}))})]})})]})]})]})},z=localStorage.getItem("User"),H=function(e,t){return"USER"===t.type?[t.payload,localStorage.setItem("User",t.payload)]:e},G=localStorage.getItem("Admin"),J=function(e,t){return"ADMIN"===t.type?[t.payload,localStorage.setItem("Admin",t.payload)]:e},W=function(){var e=Object(a.useContext)(ae).state,t=Object(a.useState)([]),s=Object(i.a)(t,2),c=s[0],n=s[1],r=Object(l.e)();Object(a.useEffect)((function(){e||x.a.fire({title:"Please sign in to track your booking request!",icon:"warning",showCancelButton:!0,confirmButtonText:"OK"}).then((function(e){e.isConfirmed?r.push("/signin"):r.push("/")}))}),[e,r]),Object(a.useEffect)((function(){var t=function(){var t=Object(h.a)(Object(d.a)().mark((function t(){var s,a;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/getStatus",{headers:{Authorization:"Bearer ".concat(e.token)}});case 3:return s=t.sent,t.next=6,s.json();case 6:a=t.sent,n(a.bookings),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error fetching bookings:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var b=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/deletemyBooking/".concat(t),{method:"DELETE"});case 3:n((function(e){return e.filter((function(e){return e._id!==t}))})),x.a.fire("Success","Booking deleted successfully","success"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){return e?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})},f=function(e){return new Date(e).toDateString()};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[Object(o.jsx)("span",{children:"Krily"}),"Car"," "]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"}),Object(o.jsx)(j.b,{to:"/about",children:"About"}),Object(o.jsx)("a",{href:"/bookingrequest",children:"Make a Booking Request"}),Object(o.jsx)("a",{href:"/contact",children:"Contact"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(O,{})})]}),Object(o.jsx)("section",{className:"container-requests",children:Object(o.jsxs)("div",{className:"myrequests",children:[Object(o.jsx)("h1",{className:"heading",children:"My Booking Requests"})," ",Object(o.jsx)("br",{}),c.length>0?Object(o.jsx)("ul",{children:c.map((function(e,t){return Object(o.jsxs)("li",{children:[Object(o.jsxs)("h3",{children:["User: ",e.user]}),Object(o.jsxs)("h3",{children:["Phone: ",e.phone]}),Object(o.jsxs)("h3",{children:["Pickup Date: ",f(e.pickupDate)]}),Object(o.jsxs)("h3",{children:["Return Date: ",f(e.returnDate)]}),Object(o.jsxs)("h3",{children:["Car: ",e.car]}),Object(o.jsxs)("h3",{children:["Status: ",e.status]}),Object(o.jsx)("button",{className:"delete-button",onClick:function(){return b(e._id)},children:"Delete"})]},t)}))}):Object(o.jsx)("h3",{children:"No bookings found."})]})}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})},V=function(){var e,t=Object(a.useContext)(ae),s=t.state,c=(t.dispatch,Object(a.useState)([])),n=Object(i.a)(c,1)[0],r=Object(a.useState)([]),l=Object(i.a)(r,2),b=l[0],O=l[1],x=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getMyIncomes",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,n(s.userById),O(s.soldItems),200!==!t.status){e.next=12;break}throw new Error(t.error);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]),Object(a.useEffect)((function(){var t=b.find((function(e){return e.rentCode}));e=t?t.rentCode:""}),[b]),b.map((function(t){e=t.rentCode}));var f=function(){return s?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[Object(o.jsx)("span",{children:"Krily"}),"Car"]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(f,{})})]}),Object(o.jsx)("div",{className:"rentcode",children:Object(o.jsxs)("h1",{children:["Rent Code : ",e]})})]})},Q=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(""),r=Object(i.a)(n,2),l=r[0],j=r[1],b=Object(a.useState)([]),O=Object(i.a)(b,2),x=O[0],f=O[1],u=Object(a.useState)(null),m=Object(i.a)(u,2),p=m[0],v=m[1];Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/all-product-ids");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,c(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){var e=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/count-rental-by-car/".concat(l));case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,console.log("Rental Counts Response:",s),s.rentalCounts&&s.rentalCounts.length>0&&s.carData?(f(s.rentalCounts),v(s.carData)):(f([]),v(null)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();l?e():(f([]),v(null))}),[l]);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Rental Counts by Car"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"productId",children:"Product ID: "}),Object(o.jsxs)("select",{id:"productId",value:l,onChange:function(e){j(e.target.value)},children:[Object(o.jsx)("option",{value:"",children:"Select a product ID"}),s.map((function(e){return Object(o.jsx)("option",{value:e,children:e},e)}))]})]}),x.length>0&&p?Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Car Details"}),Object(o.jsxs)("p",{children:["Brand: ",p.brand]}),Object(o.jsxs)("p",{children:["Model: ",p.model]}),Object(o.jsxs)("p",{children:["Year: ",p.year]}),Object(o.jsxs)("p",{children:["Color: ",p.color]}),Object(o.jsxs)("p",{children:["Seats: ",p.seats]}),Object(o.jsxs)("p",{children:["Price: ",p.price]}),Object(o.jsxs)("p",{children:["Rental Count: ",x[0].rentalCount]})]}):Object(o.jsx)("p",{children:"No rental counts available."})]})},Z=function(){var e=Object(a.useContext)(ce),t=(e.adminState,e.dispatchadmin,Object(a.useState)([])),s=Object(i.a)(t,2),c=s[0],n=s[1],r=Object(a.useRef)(null),l=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getrentcarincome",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,n(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),Object(a.useEffect)((function(){if(r.current&&c.length>0){var e=r.current.getContext("2d"),t=c.map((function(e){return e.soldItems.map((function(e){return"".concat(e.brand," ").concat(e.model)}))})),s=c.map((function(e){return e.soldItems.map((function(e){return e.totalIncome}))})),a=new window.Chart(e,{type:"bar",data:{labels:t.flat(),datasets:[{label:"Total Income",data:s.flat(),backgroundColor:"rgba(130, 2, 99)",borderColor:"rgba(217, 3, 104)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}});return function(){a.destroy()}}}),[c]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Total Income by Car"})}),Object(o.jsx)("canvas",{ref:r})]})},$=function(){var e=Object(a.useContext)(ce),t=(e.adminState,e.dispatchadmin,Object(a.useState)([])),s=Object(i.a)(t,2),c=s[0],n=s[1],r=Object(a.useRef)(null),l=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getavailableusers",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,n(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),Object(a.useEffect)((function(){if(r.current&&c.length>0){var e=r.current.getContext("2d"),t=c.map((function(e){return e.name})),s=c.map((function(e){return e.tokens.length})),a=new window.Chart(e,{type:"bar",data:{labels:t,datasets:[{label:"Logged in times",data:s,backgroundColor:"rgba(255, 27, 28)",borderColor:"rgba(0, 0, 0)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}}}});return function(){a.destroy()}}}),[c]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Most Logged in Users"})}),Object(o.jsx)("canvas",{ref:r})]})},X=function(){var e=Object(a.useContext)(ce),t=(e.adminState,e.dispatchadmin,Object(a.useState)([])),s=Object(i.a)(t,2),c=s[0],n=s[1],r=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getavailableusers",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,n(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){r()}),[]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h1",{className:"heading",children:Object(o.jsxs)("span",{children:["Total Users : ",c.length]})})})},ee=function(){var e=Object(a.useContext)(ce),t=(e.adminState,e.dispatchadmin,Object(a.useState)([{_id:"",brand:"",model:"",rent:"",price:"",availability:"",editedPrice:"",newRent:""}])),s=Object(i.a)(t,2),c=(s[0],s[1]),n=Object(a.useState)(0),r=Object(i.a)(n,2),l=r[0],j=r[1],b=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getAvailableRentCars",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,a=s.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{editedPrice:"",newRent:""})})),c(a),j(s.length),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("h1",{className:"heading",children:Object(o.jsxs)("span",{children:["Total Cars: ",l]})})})},te=function(){var e=Object(a.useContext)(ce),t=e.adminState,s=(e.dispatchadmin,Object(a.useState)([])),c=Object(i.a)(s,2),n=(c[0],c[1]),r=Object(a.useState)({}),l=Object(i.a)(r,2),b=l[0],O=l[1],x=Object(a.useRef)(null),f=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getrentcarincome",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,n(s),a={},s.forEach((function(e){e.soldItems.forEach((function(e){var t=e.brand,s=e.model,c="".concat(t,"-").concat(s);a[c]=a[c]?a[c]+1:1}))})),O(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]),Object(a.useEffect)((function(){if(Object.keys(b).length>=0){var e={type:"bar",data:{labels:Object.keys(b),datasets:[{label:"Rented times",data:Object.values(b),backgroundColor:"rgba(228, 87, 46)",borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0}},indexAxis:"y",barThickness:"flex"}},t=new window.Chart(x.current,e);return function(){t.destroy()}}}),[b]);var u=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/adminsignout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:"logoutbtnDash",children:Object(o.jsx)(j.b,{className:"nav-link",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"sidebar",children:[Object(o.jsxs)("div",{className:"logo-details",children:[Object(o.jsx)("i",{className:""}),Object(o.jsx)("span",{className:"logo_name1",children:"Krily"}),Object(o.jsx)("span",{className:"logo_name",children:"Car"})]}),Object(o.jsxs)("ul",{className:"nav-links",children:[Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/dashboard",children:[Object(o.jsx)("i",{className:"bx bx-grid-alt",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Dashboard"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/addcars",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-square-plus",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Add Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/getrentcarsforadmin",children:[Object(o.jsx)("i",{class:"fa-sharp fa-solid fa-car",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Rent Cars"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/rentcarsreports",children:[Object(o.jsx)("i",{class:"fa-solid fa-sack-dollar",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Rent Cars Income"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/availableusers",children:[Object(o.jsx)("i",{class:"fa-solid fa-users",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Available Users"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/messages",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Users Messages"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/requests",children:[Object(o.jsx)("i",{class:"fa-solid fa-envelope",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Booking Requests"})]})}),Object(o.jsx)("li",{children:Object(o.jsxs)(j.b,{className:"dashlinks",to:"/st",children:[Object(o.jsx)("i",{class:"fa-solid\r fa-signal",style:{color:"#ffffff"}}),Object(o.jsx)("span",{className:"allLinks_name",children:"Statistics"})]})})]}),Object(o.jsx)("div",{className:"logoutbtnDashDiv",children:Object(o.jsx)(u,{})})]}),Object(o.jsxs)("section",{className:"home-section",children:[Object(o.jsxs)("nav",{children:[Object(o.jsx)("div",{className:"sidebar-button",children:Object(o.jsx)("span",{className:"dashboard",children:"Dashboard"})}),Object(o.jsx)("div",{className:"profile-details",children:Object(o.jsx)("span",{className:"admin_name",children:"Admin"})})]}),Object(o.jsxs)("div",{className:"salecartableDiv",children:[Object(o.jsx)("h1",{className:"heading",children:Object(o.jsx)("span",{children:"Most Rented Cars"})}),Object(o.jsx)("div",{className:"chartContainer",children:Object(o.jsx)("canvas",{ref:x})}),Object(o.jsxs)("div",{className:"totalIncomeTableDiv",children:[Object(o.jsx)(Z,{}),Object(o.jsx)($,{}),Object(o.jsx)("section",{className:"total-cars-box",children:Object(o.jsx)(ee,{})}),Object(o.jsx)("section",{className:"total-cars-box",children:Object(o.jsx)(X,{})})]})]})]})]})},se=function(){var e=Object(a.useContext)(ae),t=e.state,s=(e.dispatch,Object(l.e)()),c=Object(l.f)().state,n=Object(a.useState)({id:"",name:"",email:"",message:""}),r=Object(i.a)(n,2),b=r[0],O=r[1],f=Object(a.useState)({id:"",brand:"",model:"",year:"",color:"",seats:"",rent:"",fileName:"",filePath:"",fileType:"",fileSize:"",description:""}),u=Object(i.a)(f,2),p=u[0],v=u[1],g=Object(a.useState)([]),N=Object(i.a)(g,2),y=(N[0],N[1],Object(a.useState)(!1)),k=Object(i.a)(y,2),C=k[0],w=k[1],S=Object(a.useState)(""),D=Object(i.a)(S,2),_=D[0],R=D[1],T=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/sendReviewRentCarId",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selectedCarId:c})});case 3:if(200!==!(t=e.sent).status){e.next=7;break}throw new Error(t.error);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){T()}),[]);var E=function(){var e=Object(h.a)(Object(d.a)().mark((function e(){var t,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/getRentCarReviews",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(s=e.sent,v({id:s.findCar._id,brand:s.findCar.brand,model:s.findCar.model,year:s.findCar.year,color:s.findCar.color,seats:s.findCar.seats,rent:s.findCar.rent,fileName:s.findCar.fileName,filePath:s.findCar.filePath,fileType:s.findCar.fileType,fileSize:s.findCar.fileSize,description:s.findCar.description,availability:s.findCar.availability}),O(Object(m.a)(Object(m.a)({},b),{},{id:s.findUser._id,name:s.findUser.name,email:s.findUser.email})),200!==!t.status){e.next=12;break}throw new Error(t.error);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){E()}),[]);var A=function(){var e=Object(h.a)(Object(d.a)().mark((function e(t){var a,c,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.id,e.next=4,fetch("/addrentcartocart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:a,rentDays:_})});case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,500!==c.status&&n?400===c.status&&"Item is already in the cart"===n.error?x.a.fire({title:"Item is already in the cart",icon:"warning",confirmButtonText:"OK"}).then((function(e){s.push("/rentcarcart")})):400===c.status&&"Item is not available for rent"===n.error?x.a.fire({title:"Item is not available for rent",icon:"warning",confirmButtonText:"OK"}):201===c.status&&x.a.fire({title:"Item added to cart",icon:"success",confirmButtonText:"OK"}).then((function(e){s.push("/rentcarcart")})):x.a.fire({title:"Something went wrong",icon:"error",confirmButtonText:"OK"});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){return t?Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signout",children:"logout"})})}):Object(o.jsx)("div",{children:Object(o.jsx)("button",{children:Object(o.jsx)(j.b,{className:"btn",to:"/signin",children:"login"})})})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("div",{id:"menu-btn",className:"fas fa-bars"}),Object(o.jsxs)(j.b,{className:"logo",to:"/",children:[Object(o.jsx)("span",{children:"Krily"}),"Car"," "]}),Object(o.jsxs)("nav",{className:"navbar",children:[Object(o.jsx)(j.b,{to:"/",children:"Home"}),Object(o.jsx)(j.b,{to:"/rentcar",children:"Rent A Car"})]}),Object(o.jsx)("div",{id:"login-btn",children:Object(o.jsx)(P,{})})]}),Object(o.jsxs)("div",{className:"reviewsdiv",style:{marginTop:"50px",backgroundColor:"#3f4b3b "},children:[Object(o.jsx)("h2",{children:"Car Details"}),Object(o.jsx)("img",{src:p.filePath,alt:"",style:{width:"50%",height:"50%"}}),Object(o.jsx)("h4",{children:Object(o.jsxs)("b",{children:["Brand : ",p.brand]})}),Object(o.jsxs)("p",{children:["Model: ",p.model]}),Object(o.jsxs)("p",{children:["Year: ",p.year]}),Object(o.jsxs)("p",{children:["Color: ",p.color]}),Object(o.jsxs)("p",{children:["Seats: ",p.seats]}),Object(o.jsxs)("p",{children:["Rent: ",p.rent," DA"]}),Object(o.jsxs)("p",{children:["Description: ",p.description]}),Object(o.jsxs)("p",{style:{color:"red"},children:["Availability: ",p.availability+" days"," "]}),C?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{children:"Before click on proceed please enter for how many days do you want to rent the car"}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{htmlFor:"lname",children:"Rent Days: "}),Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",className:"cardbtn",name:"rentfordays",value:_,onChange:function(e){var t=e.target.value;R(t)},placeholder:"Enter rent days",style:{width:"200px",height:"40px",backgroundColor:"#f6f7eb"}}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:A,id:p.id,className:"btn",children:"Proceed"})]}):Object(o.jsx)("button",{onClick:function(){w(!0)},className:"btn",children:"Add to Cart"})]}),Object(o.jsxs)("section",{className:"footer",id:"footer",children:[Object(o.jsxs)("div",{className:"box-container",children:[Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Our branch"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-map-marker-alt"})," Algeria, Blida, Ouled Yaich "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Quick links"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Home "]}),Object(o.jsxs)("a",{href:"rentcar",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Vehicles "]}),Object(o.jsxs)("a",{href:"#services",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Reviews "]}),Object(o.jsxs)("a",{href:"/contact",children:[" ",Object(o.jsx)("i",{className:"fas fa-arrow-right"})," Contact "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Contact Info"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-558-140-065 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-phone"})," +213-556-219-320 "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fas fa-envelope"})," krilycar@gmail.com "]})]}),Object(o.jsxs)("div",{className:"box",children:[Object(o.jsx)("h3",{children:"Social Media"}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-facebook-f"})," facebook : carrentdz "]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-whatsapp"})," whatsapp : +213-556-219-320"]}),Object(o.jsxs)("a",{href:"#",children:[" ",Object(o.jsx)("i",{className:"fab fa-instagram"})," instagram : krilycardz"]})]})]}),Object(o.jsxs)("div",{className:"credit",children:["  Copyright \xa9 ",(new Date).getFullYear()," krily. All rights reserved "]})]})]})},ae=Object(a.createContext)(),ce=Object(a.createContext)(),ne=function(){var e=Object(a.useReducer)(H,z),t=Object(i.a)(e,2),s=t[0],c=t[1],n=Object(a.useReducer)(J,G),r=Object(i.a)(n,2),j=r[0],d=r[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(ae.Provider,{value:{state:s,dispatch:c},children:[Object(o.jsxs)(l.a,{exact:!0,path:"/",children:[" ",Object(o.jsx)(b,{})," "]}),Object(o.jsxs)(l.a,{path:"/signin",children:[" ",Object(o.jsx)(f,{})," "]}),Object(o.jsxs)(l.a,{path:"/signup",children:[" ",Object(o.jsx)(p,{})," "]}),Object(o.jsxs)(l.a,{path:"/signout",children:[" ",Object(o.jsx)(A,{})," "]}),Object(o.jsxs)(l.a,{path:"/mycart",children:[" ",Object(o.jsx)(R,{})," "]}),Object(o.jsxs)(l.a,{path:"/rentcar",children:[" ",Object(o.jsx)(S,{})," "]}),Object(o.jsxs)(l.a,{path:"/rentcarcart",children:[" ",Object(o.jsx)(T,{})," "]}),Object(o.jsxs)(l.a,{path:"/rentcarreviews",children:[" ",Object(o.jsx)(E,{})," "]}),Object(o.jsxs)(l.a,{path:"/exploreRentCars",children:[" ",Object(o.jsx)(P,{})," "]}),Object(o.jsxs)(l.a,{path:"/about",children:[" ",Object(o.jsx)(F,{})," "]}),Object(o.jsxs)(l.a,{path:"/contact",children:[" ",Object(o.jsx)(q,{})," "]}),Object(o.jsxs)(l.a,{path:"/bookingrequest",children:[" ",Object(o.jsx)(K,{})," "]}),Object(o.jsxs)(l.a,{path:"/list",children:[" ",Object(o.jsx)(W,{})," "]}),Object(o.jsxs)(l.a,{path:"/rentcode",children:[" ",Object(o.jsx)(V,{})," "]}),Object(o.jsxs)(l.a,{path:"/detail",children:[" ",Object(o.jsx)(se,{})," "]})]}),Object(o.jsxs)(ce.Provider,{value:{adminState:j,dispatchadmin:d},children:[Object(o.jsxs)(l.a,{path:"/adminsignin",children:[" ",Object(o.jsx)(g,{})," "]}),Object(o.jsxs)(l.a,{path:"/adminsignout",children:[" ",Object(o.jsx)(N,{})," "]}),Object(o.jsxs)(l.a,{path:"/dashboard",children:[" ",Object(o.jsx)(v,{})," "]}),Object(o.jsxs)(l.a,{path:"/addcars",children:[" ",Object(o.jsx)(y,{})," "]}),Object(o.jsxs)(l.a,{path:"/rentcarsreports",children:[" ",Object(o.jsx)(k,{})," "]}),Object(o.jsxs)(l.a,{path:"/availableusers",children:[" ",Object(o.jsx)(C,{})," "]}),Object(o.jsxs)(l.a,{path:"/getrentcarsforadmin",children:[" ",Object(o.jsx)(w,{})," "]}),Object(o.jsxs)(l.a,{path:"/messages",children:[" ",Object(o.jsx)(M,{})," "]}),Object(o.jsxs)(l.a,{path:"/allreviews",children:[" ",Object(o.jsx)(U,{})," "]}),Object(o.jsxs)(l.a,{path:"/requests",children:[" ",Object(o.jsx)(Y,{})," "]}),Object(o.jsxs)(l.a,{path:"/mostcars",children:[" ",Object(o.jsx)(Q,{})," "]}),Object(o.jsxs)(l.a,{path:"/st",children:[" ",Object(o.jsx)(te,{})," "]}),Object(o.jsxs)(l.a,{path:"/totalincome",children:[" ",Object(o.jsx)(Z,{})," "]}),Object(o.jsxs)(l.a,{path:"/logs",children:[" ",Object(o.jsx)($,{})," "]}),Object(o.jsxs)(l.a,{path:"/totalcars",children:[" ",Object(o.jsx)(ee,{})," "]}),Object(o.jsxs)(l.a,{path:"/totalusers",children:[" ",Object(o.jsx)(X,{})," "]})]})]})},re=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,57)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),c(e),n(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(j.a,{children:Object(o.jsx)(ne,{})})}),document.getElementById("root")),re()}},[[56,1,2]]]);
//# sourceMappingURL=main.ea9b30ff.chunk.js.map